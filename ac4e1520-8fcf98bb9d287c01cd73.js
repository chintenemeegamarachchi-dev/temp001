(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{i3bW:function(e,n,t){"use strict";t.r(n),function(e){t.d(n,"HtmlFieldPlugin",(function(){return Ti})),t.d(n,"InlineWysiwyg",(function(){return Li})),t.d(n,"MarkdownFieldPlugin",(function(){return Pi})),t.d(n,"Wysiwyg",(function(){return Si}));var r=t("q1tI"),o=t.n(r),i=t("vOnD"),a=t("NGeX"),l=t("LXqm"),c=t("ABBN"),s=t("i8i4"),u=t.n(s),d=t("UxO+"),f=t("hyZr"),p=t("Zl/q"),m=t("mG1W"),h=t("V2qZ"),g=t("Vb5C"),b=t("wB5L"),v=t("OwXX"),k=t("9/5/"),w=t.n(k),y=t("oNMT"),x=t("MEpN"),_=t("I/Hh"),E=t("GhYw"),O=t("fwbU"),C=t("+V57"),M=t("CsC6"),j=t("/zyf"),S=t("LXPY");function I(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(){return(z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function A(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function T(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}function P(e,n){return n||(n=e.slice(0)),e.raw=n,e}var L=Object(r.createContext)({browserFocused:!0}),N=function(e){var n=e.children,t=Object(r.useState)(!0),o=t[0],i=t[1];return Object(r.useEffect)((function(){var e=function(){return i(!0)},n=function(){return i(!1)};return window.addEventListener("focus",e),window.addEventListener("blur",n),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",n)}}),[]),Object(r.createElement)(L.Provider,{value:{browserFocused:o}},n)},D=function(){return z({},Object(r.useContext)(L))};function F(){var e=P(["\n      pointer-events: none;\n      color: #d1d1d1;\n      fill: #d1d1d1;\n    "]);return F=function(){return e},e}function B(){var e=P(["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "]);return B=function(){return e},e}function R(){var e=P(["\n  ","\n  background-color: ",";\n  color: ",";\n  fill: ",";\n  border: 1px solid var(--tina-color-grey-2);\n  margin: -1px;\n  outline: none;\n  padding: 6px 4px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  font-weight: 600;\n  &:hover {\n    background-color: rgba(53, 50, 50, 0.09);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  svg {\n    width: 20px;\n    height: 20px;\n  }\n  ",";\n  ",";\n"]);return R=function(){return e},e}function W(){var e=P(["\n  flex: 1 1 32px;\n"]);return W=function(){return e},e}var $=Object(i.css)(W()),V=i.default.button(R(),$,(function(e){return e.active?"rgba(53, 50, 50, 0.05)":"transparent"}),(function(e){return e.active?"var(--tina-color-primary)":"var(--tina-color-grey-8)"}),(function(e){return e.active?"var(--tina-color-primary)":"var(--tina-color-grey-8)"}),(function(e){return e.active&&Object(i.css)(B())}),(function(e){return e.disabled&&Object(i.css)(F())})),q=Object(r.createContext)({mode:"wysiwyg",setMode:function(){}}),H=function(e){var n=e.children,t=Object(r.useState)("wysiwyg"),o=t[0],i=t[1];return Object(r.useEffect)((function(){document.addEventListener("keydown",(function(e){e.altKey&&e.shiftKey&&e.metaKey&&77===e.keyCode&&i("wysiwyg"===o?"markdown":"wysiwyg")}))})),Object(r.createElement)(q.Provider,{value:{mode:o,setMode:i}},n)},U=q.Consumer,K=function(){return Object(r.useContext)(q)},G=function(){var e=K(),n=e.mode,t=e.setMode;return Object(r.createElement)(V,{"data-testid":"markdown-toggle","data-tooltip":"Markdown mode",title:"Toggle Markdown mode",onClick:function(){t("markdown"===n?"wysiwyg":"markdown")}},Object(r.createElement)(a.MarkdownIcon,null))},X=Object(r.createContext)({editorView:void 0,translator:void 0}),Z=function(e){var n=e.children,t=e.editorView,o=e.translator;return Object(r.createElement)(X.Provider,{value:{editorView:t,translator:o}},n)},Q=function(){return z({},Object(r.useContext)(X))},Y=function(e,n,t,r,i){return void 0===i&&(i=!0),function(){var t=Q().editorView,a=function(){return e(t.view.state)};return o.a.createElement(V,{"data-tooltip":r,title:r,onClick:function(){if(a()){var n=t.view;e(n.state,n.dispatch),i&&n.focus()}},disabled:!a(),onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},o.a.createElement(n,null))}};function J(e){var n=e.mark,t=e.Icon,o=e.tooltip,i=e.defaultAttrs,a=e.selectionOnly,l=void 0!==a&&a,s=e.noMix,u=void 0===s?[]:s,d=e.isDisabled,f=e.onClick,p=e.onMenuOptionClick;return function(){var e=Q().editorView.view,a=function(n){return e.state.schema.marks[n]},s=function(n){var t=e.state,r=a(n),o=t.selection,i=o.from,l=o.$from,c=o.to;return o.empty?!!r.isInSet(t.storedMarks||l.marks()):t.doc.rangeHasMark(i,c,r)},m=function(){return d?d(e):"image"===n&&l?!!e.state.selection.$cursor||h()||g():h()||g()},h=function(){return e.state.selection.$from.node(e.state.selection.$from.depth).type===e.state.schema.nodes.code_block},g=function(){return u.map(s).reduce((function(e,n){return n||e}),!1)};return a(n)?Object(r.createElement)(V,{"data-tooltip":o,"data-side":"top",title:o,onClick:function(){if(f&&f(e),p)return p(e);if(!m()){var t=e.state,r=e.dispatch;t.selection.$cursor&&l||Object(c.toggleMark)(a(n),i)(t,r)}},active:!m()&&s(n),disabled:m()},Object(r.createElement)(t,null)):null}}var ee=Object(r.createContext)((function(){return null}));var ne=function(e){var n=e.children,t=Object(r.useRef)(null),o=Object(r.useCallback)((function(e){return t.current?Object(s.createPortal)(e.children,t.current):null}),[t.current]);return Object(r.createElement)(ee.Provider,{value:o},Object(r.createElement)("div",{ref:t},n))};function te(){var e=P(["\n  position: absolute;\n  left: ","px;\n"]);return te=function(){return e},e}function re(){var e=P(["\n      opacity: 1;\n      pointer-events: all;\n      transform: translate3d(0, 100%, 0) scale3d(1, 1, 1);\n    "]);return re=function(){return e},e}function oe(){var e=P(["\n  border-radius: var(--tina-radius-small);\n  border: 1px solid #efefef;\n  display: block;\n  position: absolute;\n  bottom: -4px;\n  left: 0;\n  transform: translate3d(0, 100%, 0) scale3d(0.5, 0.5, 1);\n  opacity: 0;\n  pointer-events: none;\n  transition: all 85ms ease-out;\n  transform-origin: 0 0;\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12), 0px 4px 8px rgba(48, 48, 48, 0.1);\n  background-color: white;\n  overflow: hidden;\n  z-index: 10;\n  white-space: nowrap;\n\n  ",";\n"]);return oe=function(){return e},e}var ie=Object(i.default)((function(e){var n=e.children,t=e.triggerRef,o=T(e,["children","open","triggerRef","innerRef"]),i=Object(r.useContext)(ee),a=Object(r.useRef)(null),l=Object(r.useState)(0),c=l[0],s=l[1];return Object(r.useEffect)((function(){if(t.current&&a.current){var e=t.current.getBoundingClientRect(),n=a.current.getBoundingClientRect();s(e.x-n.x)}}),[t.current,a.current]),Object(r.createElement)(i,null,Object(r.createElement)("div",{ref:a},Object(r.createElement)(ae,{offset:c},Object(r.createElement)("div",Object.assign({},o),n))))}))(oe(),(function(e){return e.open&&Object(i.css)(re())})),ae=i.default.div(te(),(function(e){return e.offset}));function le(){var e=P(["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "]);return le=function(){return e},e}function ce(){var e=P(["\n  display: block;\n  padding: 8px 12px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  &:first-child {\n    padding-top: var(--tina-padding-small);\n  }\n  &:last-child {\n    padding-bottom: var(--tina-padding-small);\n  }\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    color: var(--tina-color-primary);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  ",";\n"]);return ce=function(){return e},e}var se=i.default.div(ce(),(function(e){return e.active&&Object(i.css)(le())})),ue=function(e,n){for(var t=e,r=t.offsetTop;t.offsetParent&&(!n||t.offsetParent!==n);)r+=(t=t.offsetParent).offsetTop;return r},de=function(e,n){for(var t=e,r=t.offsetLeft;t.offsetParent&&(!n||t.offsetParent!==n);)r+=(t=t.offsetParent).offsetLeft;return r},fe=function(e,n){return!!pe(e,n)},pe=function(e,n){var t,r,o=e.selection,i=o.anchor,a=o.head;i<a?(t=i,r=a):(t=a,r=i),t=o.empty?t:t+1;var l=n.isInSet(e.doc.resolve(t).marks());if(!l)return!1;for(var c=l;t<r&&c;t+=1)n.isInSet(e.doc.resolve(t).marks())||(c=void 0);return c},me=function(n){var t="Windows"===function(){if(void 0===e.navigator)return"Windows";for(var n=navigator.userAgent,t=[{s:"Windows",r:/Win16/},{s:"Windows",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows",r:/(Windows 98|Win98)/},{s:"Windows",r:/Windows CE/},{s:"Windows",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows",r:/Windows NT 5.2/},{s:"Windows",r:/Windows NT 6.0/},{s:"Windows",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/}],r=Object.keys(t),o=0;o<t.length;o+=1){var i=t[r[o]];if(i.r.test(n))return i.s}return""}()?"^":"⌘",r=n;return r=(r=(r=r.replace("Mod",t)).replace("Shift","⇧")).replace("Alt","⌥")};function he(e,n){var t=e.selection.$cursor;if(!t)return!1;var r=e.doc.nodeAt(Math.max(t.pos-1,0));if(!r)return!1;if(r.type!=e.schema.nodes.heading)return!1;if(r.textContent.length)return!1;if(n){var o=e.tr;n(o.replaceRangeWith(t.pos-1,t.pos+r.nodeSize-1,e.schema.nodes.paragraph.create()).setSelection(new d.TextSelection(o.doc.resolve(e.selection.head))).scrollIntoView())}return!0}function ge(e,n,t,r){return function(o,i){var a=o.selection,l=a.from,c=a.to,s=null,u=-1;if(o.doc.nodesBetween(l,c,(function(e,n){return!s&&(e.isTextblock&&(s=e,u=n),!0)})),!s||u<0)return!1;var d=o.doc.resolve(u),f=d.index(),p=o.selection.$head.parent.attrs.level==n.level,m=p?t:e,h=p?r:n;return!!d.parent.canReplaceWith(f,f+1,m)&&(i&&i(o.tr.setBlockType(l,c,m,h).scrollIntoView()),!0)}}function be(){var e=P(["\n  color: #d1d1d1;\n  font-size: 12px;\n"]);return be=function(){return e},e}function ve(){var e=P(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return ve=function(){return e},e}function ke(e){var n=e.Component,t=e.children,o=e.command,i=e.typeName,a=e.attrs,l=e.title;return function(e){function c(){var n;return(n=e.apply(this,arguments)||this).canDo=function(){return o(n.props.view.state)},n.onClick=function(){o(n.props.view.state,n.props.view.dispatch),n.props.view.focus(),n.props.onClick()},n}var s,u,d;return A(c,e),c.prototype.render=function(){return Object(r.createElement)(se,{onClick:this.onClick,disabled:!this.canDo(),active:this.active},Object(r.createElement)(we,null,Object(r.createElement)(n,null,t),Object(r.createElement)(ye,null,l)))},s=c,(u=[{key:"active",get:function(){if(!i)return!1;var e=this.props.view.state.selection.$from,n=e.node(e.depth),t=n.type.name===i,r=!a||n.attrs.level===a.level;return t&&r}}])&&I(s.prototype,u),d&&I(s,d),c}(r.Component)}var we=i.default.div(ve()),ye=i.default.span(be());function xe(){var e=P(["\n  ","\n"]);return xe=function(){return e},e}function _e(){var e=P(["\n  ","\n"]);return _e=function(){return e},e}function Ee(){var e=P(["\n  ","\n"]);return Ee=function(){return e},e}function Oe(){var e=P(["\n  ","\n"]);return Oe=function(){return e},e}function Ce(){var e=P(["\n  ","\n"]);return Ce=function(){return e},e}function Me(){var e=P(["\n  ","\n"]);return Me=function(){return e},e}function je(){var e=P(["\n  white-space: nowrap;\n  line-height: 1;\n  display: block;\n  margin: 0;\n"]);return je=function(){return e},e}var Se=function(){var e=Object(r.useState)(!1),n=e[0],t=e[1],o=Object(r.useRef)(),i=Q().editorView.view,c=function(){return t(!n)};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(V,{ref:o,"data-tooltip":"Heading",title:"Heading",onClick:c,active:n},Object(r.createElement)(a.HeadingIcon,null)),Object(r.createElement)(ie,{triggerRef:o,open:n},Object(r.createElement)(l.Dismissible,{click:!0,escape:!0,disabled:!n,onDismiss:c},Object(r.createElement)(Fe,{view:i,onClick:c}),Object(r.createElement)(Be,{view:i,onClick:c}),Object(r.createElement)(Re,{view:i,onClick:c}),Object(r.createElement)(We,{view:i,onClick:c}),Object(r.createElement)($e,{view:i,onClick:c}),Object(r.createElement)(Ve,{view:i,onClick:c}))))};function Ie(e){return function(n,t){return ge(n.schema.nodes.heading,{level:e},n.schema.nodes.paragraph,null)(n,t)}}var ze=Object(i.css)(je()),Ae=i.default.h1(Me(),ze),Te=i.default.h2(Ce(),ze),Pe=i.default.h3(Oe(),ze),Le=i.default.h4(Ee(),ze),Ne=i.default.h5(_e(),ze),De=i.default.h6(xe(),ze),Fe=ke({Component:Ae,children:"Heading 1",command:Ie(1),typeName:"heading",attrs:{level:1},title:me("Mod-Alt-1")}),Be=ke({Component:Te,children:"Heading 2",command:Ie(2),typeName:"heading",attrs:{level:2},title:me("Mod-Alt-2")}),Re=ke({Component:Pe,children:"Heading 3",command:Ie(3),typeName:"heading",attrs:{level:3},title:me("Mod-Alt-3")}),We=ke({Component:Le,children:"Heading 4",command:Ie(4),typeName:"heading",attrs:{level:4},title:me("Mod-Alt-4")}),$e=ke({Component:Ne,children:"Heading 5",command:Ie(5),typeName:"heading",attrs:{level:5},title:me("Mod-Alt-5")}),Ve=ke({Component:De,children:"Heading 6",command:Ie(6),typeName:"heading",attrs:{level:6},title:me("Mod-Alt-6")}),qe=function(){return Object(r.createElement)(V,{"data-tooltip":"Heading",disabled:!0},Object(r.createElement)(a.HeadingIcon,null))};function He(e,n){var t=e.schema.nodes,r=t.code_block,o=t.paragraph,i=e.selection,a=e.tr;if(i.$to.node(i.$to.depth).type===r)return Object(c.setBlockType)(o)(e,n);if(!n||i.empty)return Object(c.setBlockType)(r)(e,n);var l="",s=void 0,u=void 0;e.doc.nodesBetween(i.from,i.to-1,(function(e,n){e.isTextblock&&(void 0===s&&(s=n),l.length&&(l+="\n"),l+=e.textContent,u=n+e.textContent.length+1)}));var f=r.createChecked();return n(a.replaceRangeWith(s,u+1,f).insertText(l,s+1).setSelection(new d.TextSelection(a.doc.resolve(s+l.length+1))))}var Ue=Y(He,a.CodeIcon,0,me("Codeblock Mod-Alt-0"),!0),Ke=function(){return o.a.createElement(V,{"data-tooltip":"Codeblock","data-side":"top",disabled:!0},o.a.createElement(a.CodeIcon,null))};var Ge="undefined"==typeof navigator,Xe="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Ze=null;Ge||(Ze=t("VrN/"));var Qe=function(){function e(e,n,t){var r=this;if(this.node=e,this.view=n,this.getPos=t,this.updating=!1,this.onCursorActivity=function(){r.updating||r.forwardSelection()},this.forwardSelection=function(){if(r.cm.hasFocus()){var e=r.view.state,n=r.asProseMirrorSelection(e.doc);n.eq(e.selection)||r.view.dispatch(e.tr.setSelection(n))}},this.onChange=function(){r.updating||r.valueChanged()},!Ge){this.cm=this.setupCodeMirror(e),this.dom=this.cm.getWrapperElement(),setTimeout((function(){return r.cm.refresh()}),20),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("changes",this.onChange),this.cm.on("focus",this.forwardSelection);var o=this.getPos()+1,i=n.state.selection,a=i.anchor,l=i.head;this.setSelection(a-o,l-o)}}var n=e.prototype;return n.valueChanged=function(){var e=Ye(this.node.textContent,this.cm.getValue());if(e){var n=this.getPos()+1,t=this.view.state.schema,r=this.view.state.tr.replaceWith(n+e.from,n+e.to,e.text?t.text(e.text):null);this.view.dispatch(r)}},n.asProseMirrorSelection=function(e){var n=this.getPos()+1,t=this.cm.indexFromPos(this.cm.getCursor("anchor"))+n,r=this.cm.indexFromPos(this.cm.getCursor("head"))+n;return d.TextSelection.create(e,t,r)},n.setSelection=function(e,n){this.cm.focus(),this.updating=!0,this.cm.setSelection(this.cm.posFromIndex(e),this.cm.posFromIndex(n)),this.updating=!1},n.setupCodeMirror=function(e){return Ze(null,{value:e.textContent,lineNumbers:!0,extraKeys:this.codeMirrorKeymap(),mode:e.attrs.params,theme:"forestry"})},n.codeMirrorKeymap=function(){var e,n=this,t=this.view,r=Xe?"Cmd":"Ctrl";return Ze.normalizeKeyMap(((e={Up:function(){return n.maybeEscape("line",-1)},Left:function(){return n.maybeEscape("char",-1)},Down:function(){return n.maybeEscape("line",1)},Right:function(){return n.maybeEscape("char",1)},Backspace:function(){if(!(e=n.cm,function(n,t){var r=e.getCursor(),o=e.getValue(),i=!o.replace(/[ \r\n]/g,"");if(0!=r.line||0!=r.ch||!i)return!1;var a=n.selection.$from;if(t){var l=n.schema,c=n.tr;t(c.replaceRangeWith(a.pos-1,a.pos+o.length+1,l.nodes.paragraph.create()).setSelection(new d.TextSelection(c.doc.resolve(a.pos))))}return!0})(n.view.state,n.view.dispatch))return Ze.Pass;var e;n.view.focus()}})[r+"-Z"]=function(){return Object(f.undo)(t.state,t.dispatch)},e["Shift-"+r+"-Z"]=function(){return Object(f.redo)(t.state,t.dispatch)},e[r+"-Shift-Enter"]=function(){var e=n.cm.getCursor();if(n.cm.somethingSelected()||e.line!=n.cm.firstLine())return Ze.Pass;if(t.state.selection.$anchor.parentOffset){var r=t.state.selection.$anchor.pos;t.dispatch(t.state.tr.setSelection(d.Selection.near(n.view.state.doc.resolve(r-1),-1)))}return function(e,n){var t=e.selection,r=t.$head,o=t.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),l=i.defaultContentType(a);if(!i.canReplaceWith(a,a,l))return!1;if(n){var c=r.before(),s=e.tr.replaceWith(c,c,l.createAndFill());s.setSelection(d.Selection.near(s.doc.resolve(c),-1)),n(s.scrollIntoView())}return!0}(t.state,t.dispatch)&&t.focus(),!0},e["Shift-Enter"]=function(){var e=n.cm.getCursor();if(n.cm.somethingSelected()||e.line!=n.cm.lastLine())return Ze.Pass;if(t.state.selection.$anchor.parentOffset){var r=t.state.selection.$anchor.pos;t.dispatch(t.state.tr.setSelection(d.Selection.near(n.view.state.doc.resolve(r-1),-1)))}return Object(c.exitCode)(t.state,t.dispatch)||function(e,n){var t=e.selection.$head,r=t.node(-1),o=t.indexAfter(-1),i=r.defaultContentType(o);if(n){var a=t.before(),l=e.tr.replaceWith(a,a,i.createAndFill());l.setSelection(d.Selection.near(l.doc.resolve(a),1)),n(l.scrollIntoView())}return!0}(t.state,t.dispatch)?t.focus():void 0},e[r+"-Alt-0"]=function(){var e=t.state,n=t.dispatch,r=e.schema.nodes.paragraph;Object(c.setBlockType)(r)(e,n)},e))},n.maybeEscape=function(e,n){var t=this.cm.getCursor();if(this.cm.somethingSelected()||t.line!=(n<0?this.cm.firstLine():this.cm.lastLine())||"char"==e&&t.ch!=(n<0?0:this.cm.getLine(t.line).length))return Ze.Pass;var r=this.getPos()+(n<0?0:this.node.nodeSize),o=d.Selection.near(this.view.state.doc.resolve(r),n);if(!(o.$from.pos+1<this.view.state.doc.content.size))return Ze.Pass;this.view.dispatch(this.view.state.tr.setSelection(o)),this.view.focus()},n.update=function(e){if(e.type!=this.node.type)return!1;this.node=e;var n=Ye(this.cm.getValue(),e.textContent);return n&&(this.updating=!0,this.cm.replaceRange(n.text,this.cm.posFromIndex(n.from),this.cm.posFromIndex(n.to)),this.updating=!1),!0},n.selectNode=function(){this.cm.focus()},n.stopEvent=function(){return!0},e}();function Ye(e,n){if(e==n)return null;for(var t=0,r=e.length,o=n.length;t<r&&e.charCodeAt(t)==n.charCodeAt(t);)++t;for(;r>t&&o>t&&e.charCodeAt(r-1)==n.charCodeAt(o-1);)r--,o--;return{from:t,to:r,text:n.slice(t,o)}}var Je=new d.PluginKey("image"),en=new d.Plugin({key:Je,props:{nodeViews:{code_block:function(e,n,t){return new Qe(e,n,t)}}}}),nn=function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(tn,null),Object(r.createElement)(rn,null))},tn=function(){var e=Q().editorView,n=me("Undo Mod-Z");return Object(r.createElement)(V,{"data-tooltip":n,title:n,"data-side":"top",onClick:function(){var n=e.view,t=n.state,r=n.dispatch;Object(f.undo)(t,r)},disabled:Object(f.undoDepth)(e.view.state)<1},Object(r.createElement)(a.UndoIcon,null))},rn=function(){var e=Q().editorView,n=me("Redo Mod-Shift-Z");return Object(r.createElement)(V,{"data-tooltip":n,title:n,"data-side":"top",onClick:function(){var n=e.view,t=n.state,r=n.dispatch;Object(f.redo)(t,r)},disabled:Object(f.redoDepth)(e.view.state)<1},Object(r.createElement)(a.RedoIcon,null))},on=function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(an,null),Object(r.createElement)(ln,null))},an=function(){return Object(r.createElement)(V,{"data-tooltip":"Undo","data-side":"top",disabled:!0},Object(r.createElement)(a.UndoIcon,null))},ln=function(){return Object(r.createElement)(V,{"data-tooltip":"Redo","data-side":"top",disabled:!0},Object(r.createElement)(a.RedoIcon,null))},cn=new d.PluginKey("inline"),sn=new d.Plugin({key:cn,props:{handleKeyDown:function(e,n){return function(e,n){if("ArrowRight"!==n.key)return!1;var t=e.state,r=t.selection,o=t.schema.marks.code;if(!o.isInSet(r.$to.marks()))return!1;if(!(r.$to.node().nodeSize-2===r.$to.parentOffset))return!1;var i=e.state;return(0,e.dispatch)(i.tr.insertText(" ",r.$to.pos).removeMark(r.$to.pos,r.$to.pos+1,o)),!0}(e,n)}}}),un=function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(dn,null),Object(r.createElement)(fn,null),Object(r.createElement)(pn,null))},dn=J({mark:"strong",Icon:a.BoldIcon,tooltip:me("Bold Mod-B")}),fn=J({mark:"em",Icon:a.ItalicIcon,tooltip:me("Italic Mod-I")}),pn=J({mark:"strike",Icon:a.StrikethroughIcon,tooltip:"Strike"}),mn=function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(V,{"data-tooltip":"Bold","data-side":"top",disabled:!0},Object(r.createElement)(a.BoldIcon,null)),Object(r.createElement)(V,{"data-tooltip":"Italic","data-side":"top",disabled:!0},Object(r.createElement)(a.ItalicIcon,null)),Object(r.createElement)(V,{"data-tooltip":"Strike","data-side":"top",disabled:!0},Object(r.createElement)(a.StrikethroughIcon,null)))};function hn(e,n){var t=Object(p.liftListItem)(e.schema.nodes.list_item);return Object(p.wrapInList)(e.schema.nodes.bullet_list)(e,n)||t(e,n)}function gn(e,n){var t=Object(p.liftListItem)(e.schema.nodes.list_item);return Object(p.wrapInList)(e.schema.nodes.ordered_list)(e,n)||t(e,n)}var bn=function(e){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(vn,Object.assign({},e)),Object(r.createElement)(kn,Object.assign({},e)))},vn=Y(hn,a.UnorderedListIcon,0,me("Unordered List Mod-Alt-8")),kn=Y(gn,a.OrderedListIcon,0,me("Ordered List Mod-Alt-7")),wn=function(e){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(yn,Object.assign({},e)),Object(r.createElement)(xn,Object.assign({},e)))},yn=function(){return Object(r.createElement)(V,{"data-tooltip":"Unordered List",disabled:!0},Object(r.createElement)(a.UnorderedListIcon,null))},xn=function(){return Object(r.createElement)(V,{"data-tooltip":"Ordered List",disabled:!0},Object(r.createElement)(a.OrderedListIcon,null))};function _n(e,n){var t=e.schema.nodes.blockquote,r=Object(m.findParentNodeOfType)(t)(e.selection)||{},o=r.start,i=r.node;if(o&&i){var a=e.tr,l=a.doc.resolve(o+1).blockRange(a.doc.resolve(o+i.nodeSize-2));if(l)return!n||n(a.lift(l,0))}return Object(c.wrapIn)(e.schema.nodes.blockquote)(e,n)}var En=Y(_n,a.QuoteIcon,0,"Blockquote"),On=function(){return o.a.createElement(V,{"data-tooltip":"Quote","data-side":"top",disabled:!0},o.a.createElement(a.QuoteIcon,null))},Cn=function(e,n,t,r){var o=n.width,i=n.map.findIndex((function(n){return n===e-t.start}));return new g.CellSelection(r.resolve(n.map[i+o-1]+t.start),r.resolve(e))},Mn=function(e,n,t,r){var o=n.width,i=n.height,a=n.map.findIndex((function(n){return n===e-t.start}));return new g.CellSelection(r.resolve(n.map[a+o*(i-1)]+t.start),r.resolve(e))},jn=function(e,n,t,r){return new g.CellSelection(r.resolve(n.map[n.map.length-1]+t.start),r.resolve(e))},Sn=function(e,n,t,r){for(var o=[],i=n.map,a=function(n){var a=document.createElement("div");a.classList.add("tina_table_header_ext_top"),r&&t.ranges.some((function(t){return t.$from.pos===e.start+i[n]+1}))&&a.classList.add("tina_table_header_ext_top_selected"),o.push(h.Decoration.widget(e.start+i[n]+1,a))},l=0;l<n.width;l++)a(l);return o},In=function(e,n,t,r){for(var o=[],i=n.map,a=function(a){var l=document.createElement("div");l.classList.add("tina_table_header_ext_left"),r&&t.ranges.some((function(t){return t.$from.pos===e.start+i[a*n.width]+1}))&&l.classList.add("tina_table_header_ext_left_selected"),o.push(h.Decoration.widget(e.start+i[a*n.width]+1,l))},l=0;l<n.height;l++)a(l);return o},zn=function(e,n,t){var r=[],o=document.createElement("div");return o.classList.add("tina_table_header_ext_top_left"),n&&t&&o.classList.add("tina_table_header_ext_top_left_selected"),r.push(h.Decoration.widget(e.start+2,o)),r},An=new d.PluginKey("table"),Tn=new d.Plugin({key:An,state:{init:function(){return{deco:h.DecorationSet.empty}},apply:function(e,n,t,r){if(!1===e.getMeta("image_clicked"))return n;var o=r.selection;if(o){var i=r.schema.nodes.table,a=Object(m.findParentNodeOfType)(i)(o);if(a){var l=o===t.selection,c=(a&&a.node.nodeSize)===(n.selectedTable&&n.selectedTable.node.nodeSize)&&(a&&a.start)===(n.selectedTable&&n.selectedTable.start);if(l&&c)return n;var s=function(e,n){var t=g.TableMap.get(e.node),r=n.isColSelection&&n.isColSelection(),o=n.isRowSelection&&n.isRowSelection(),i=zn(e,r,o);return i=[].concat(i,Sn(e,t,n,r)),i=[].concat(i,In(e,t,n,o))}(a,o);if(s.length)return{deco:h.DecorationSet.create(r.doc,s),tableMap:g.TableMap.get(a.node),selectedTable:a}}}return{deco:h.DecorationSet.empty}}},props:{decorations:function(e){return this.getState(e).deco},handleClickOn:function(e,n,t,r,o,i){if(!i)return!1;var a=o.target.classList,l=e.state,c=e.dispatch,s=An.getState(l),u=s.tableMap,d=s.selectedTable,f=function(e,n,t,r,o){return n.includes("tina_table_header_ext_top_left")?jn(e,t,r,o.doc):n.includes("tina_table_header_ext_left")?Cn(e,t,r,o.doc):n.includes("tina_table_header_ext_top")?Mn(e,t,r,o.doc):void 0}(r,a.value,u,d,l);return f&&c(l.tr.setSelection(f)),!1}}}),Pn=function(e,n){return n?e.createChecked(null,n):e.createAndFill()};function Ln(e,n){var t=e.schema.nodes,r=t.table,o=t.code_block,i=e.selection,a=i.$to.node(i.$to.depth);return(!a||a.type!==o)&&(!Object(m.findParentNodeOfType)(r)(i)&&function(e,n){if(!n)return!0;for(var t=e.schema.nodes,r=t.table_cell,o=t.table_header,i=t.table_row,a=t.table,l=[],c=[],s=0;s<3;s+=1)c.push(Pn(o)),l.push(Pn(r));for(var u=[],f=0;f<3;f+=1)u.push(i.createChecked(null,0===f?c:l));var p=a.createChecked(null,u),m=e.selection,h=e.tr,g=m.$from,b=m.$to,v=g.pos-1,k=b.pos<e.doc.content.size?b.pos+1:b.pos;return n(h.replaceWith(v,k,p).setSelection(new d.TextSelection(h.doc.resolve(g.pos+1))).scrollIntoView()),!0}(e,n))}var Nn=Y(Ln,a.TableIcon,0,"Table"),Dn=function(){return o.a.createElement(V,{"data-tooltip":"Table",disabled:!0},o.a.createElement(a.TableIcon,null))};"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var Fn=function(e){return e},Bn=function(){function e(e,n,t){var r=this;void 0===t&&(t=Fn),this.previewSrc=t,this.selectNode=function(){r.img&&(r.img.style.outline="4px solid #0084FF",r.img.classList.add("tina-selected-image"))},this.deselectNode=function(){r.img&&(r.img.style.outline="",r.img.classList.remove("tina-selected-image"))},this.destroy=function(){r.deselectNode()},this.node=e,this.view=n,this.dom=document.createElement("span"),this.dom.classList.add("tinacms-image-wrapper"),this.img=document.createElement("img");var o=e.attrs,i=o.src,a=o.align,l=o.alt,c=o.title,s=o.width,u=o.height;this.updateImgSrc(i),u&&(this.img.style.height=u),s&&(this.img.style.width=s),a&&this.img.classList.add("align-"+a),l&&(this.img.alt=l),c&&(this.img.title=c),this.dom.appendChild(this.img)}var n=e.prototype;return n.updateImgSrc=function(e){try{var n=this;if(!n.img)return Promise.resolve();var t=function(e,n){try{var t=e()}catch(r){return n(r)}return t&&t.then?t.then(void 0,n):t}((function(){return Promise.resolve(n.previewSrc(e)).then((function(e){n.img.src=e}))}),(function(){n.img.src=e}));return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(r){return Promise.reject(r)}},n.update=function(e){if(this.img){var n=e.attrs,t=n.alt,r=n.title;t&&(this.img.alt=t),r&&(this.img.title=r)}return!0},e}(),Rn=new d.PluginKey("image"),Wn=function(e,n,t){n(e.tr.setSelection(new d.NodeSelection(e.tr.doc.resolve(t))))},$n=function(e,n,t){for(var r=[],o=0;o<n.files.length;o++){var i=n.files[o];i.type.match("image.*")&&r.push(i)}if(r.length){var a=e.state,l=e.dispatch;return l(a.tr.setMeta("loading_images",r.length)),t(r).then((function(n){void 0===n&&(n=[]),l(a.tr.setMeta("loading_images",0)),function(e,n,t){if(n){var r=e.schema.nodes.image,o=e.tr;t.forEach((function(e){var n=r.createAndFill({src:e,alt:"",title:""});o.replaceSelectionWith(n)})),n(o.scrollIntoView())}}(a,l,n),e.focus()})),!0}return!1};function Vn(){var e=P(["\n  display: block;\n"]);return Vn=function(){return e},e}function qn(){var e=P(["\n  display: none;\n"]);return qn=function(){return e},e}function Hn(){var e=P(["\n      padding: 0;\n      border: none;\n      border-radius: var(--tina-radius-small);\n      border: 1px solid var(--tina-color-grey-2);\n    "]);return Hn=function(){return e},e}function Un(){var e=P(["\n  display: block;\n  width: 100%;\n  min-width: 200px;\n  padding: var(--tina-padding-big) 0;\n  margin-bottom: var(--tina-padding-small);\n  border-radius: var(--tina-radius-big);\n  border: 3px dashed var(--tina-color-grey-3);\n  cursor: pointer;\n\n  ",";\n"]);return Un=function(){return e},e}function Kn(){var e=P(["\n  font-size: var(--tina-font-size-2);\n  text-align: center;\n  line-height: 1.2;\n  color: var(--tina-color-grey-10);\n  max-width: 140px;\n  white-space: break-spaces;\n  display: block;\n  margin: 0 auto;\n"]);return Kn=function(){return e},e}function Gn(){var e=P(["\n  display: flex;\n  margin: 0 -4px;\n  width: calc(100% + 8px);\n\n  "," {\n    flex: 1 0 auto;\n    margin: 0 4px;\n  }\n"]);return Gn=function(){return e},e}function Xn(){var e=P(["\n  background: var(--tina-color-grey-1);\n  padding: var(--tina-padding-small);\n  font-family: var(--tina-font-family);\n\n  * {\n    font-family: inherit;\n  }\n"]);return Xn=function(){return e},e}function Zn(){var e=P(["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 8px;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n"]);return Zn=function(){return e},e}function Qn(){var e=P(["\n  display: block;\n  width: 100%;\n  margin: 0;\n"]);return Qn=function(){return e},e}function Yn(){var e=P(["\n  display: flex;\n  justify-content: center;\n  margin-top: -7px;\n  svg {\n    width: 50px;\n    height: auto;\n    fill: var(--tina-color-primary);\n  }\n"]);return Yn=function(){return e},e}function Jn(){var e=P([""]);return Jn=function(){return e},e}function et(){var e=P(["\n  background: none;\n  border: none;\n  outline: none;\n  color: var(--tina-color-primary);\n  cursor: pointer;\n  transition: all 80ms ease-out;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  padding: 0;\n\n  &:hover {\n    text-decoration: underline;\n    text-decoration-color: var(--tina-color-primary-light);\n  }\n"]);return et=function(){return e},e}function nt(){var e=P(["\n  display: flex;\n  margin-bottom: var(--tina-padding-small);\n"]);return nt=function(){return e},e}function tt(){var e=P(["\n  background: none;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  position: absolute;\n  top: 18px;\n  right: 18px;\n  border-radius: var(--tina-radius-big);\n  box-shadow: var(--tina-shadow-small);\n  background-color: var(--tina-color-grey-0);\n  border: 1px solid var(--tina-color-grey-2);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n  }\n\n  svg {\n    fill: var(--tina-color-primary);\n    width: 22px;\n    height: 22px;\n  }\n"]);return tt=function(){return e},e}var rt=function(e){var n=e.uploadImages,t=Object(r.useRef)(),i=Q().editorView,c=Object(r.useState)(!1),s=c[0],u=c[1],d=Object(r.useState)(""),f=d[0],p=d[1],m=Object(r.useState)(!1),h=m[0],g=m[1],k=Object(r.useState)(!1),w=k[0],y=k[1];if(!n)return null;var x=function(e){y(!0),n([e]).then((function(e){void 0===e&&(e=[]),p(e[0]),y(!1)}))},_=function(e){e.preventDefault(),e.stopPropagation()},E=function(){p(""),g(!h)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(V,{title:"Image",ref:t,onClick:E},o.a.createElement(a.MediaIcon,null)),o.a.createElement(ie,{triggerRef:t,open:h,onKeyDown:function(e){"Escape"===e.key&&g(!1)}},o.a.createElement(l.Dismissible,{click:!0,escape:!0,disabled:!h,onDismiss:function(){g(!1)}},o.a.createElement(dt,null,o.a.createElement(gt,{htmlFor:"fileInput",onClick:function(e){return e.stopPropagation()}},o.a.createElement(ht,{id:"fileInput",onChange:function(e){var n=e.target.files;n[0]&&x(n[0])},type:"file",accept:"image/*"}),o.a.createElement(mt,{onDragEnter:_,onDragOver:_,onDrop:function(e){_(e);for(var n=e.dataTransfer,t=n.items,r=n.files,o=t||r,i=!!t,a=0;a<o.length;a+=1)if((!i||"file"===o[a].kind)&&o[a].type.match("^image/")){var l=i?o[a].getAsFile():o[a];l&&x(l)}},uploading:w,imageUrl:f},f&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ot,{onMouseDown:function(e){p(""),e.stopPropagation()}},o.a.createElement(a.CloseIcon,null)),o.a.createElement(st,{src:f,alt:"uploaded_image"})),!f&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ct,null,o.a.createElement(a.UploadIcon,null)),o.a.createElement(pt,null,!w&&"Drag and drop or click to upload",w&&"Image uploading...")))),o.a.createElement(it,null,s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(lt,{onMouseDown:function(e){return e.stopPropagation()}},o.a.createElement(ut,{onClick:function(){u(!1)}},"Or Enter Image URL"),o.a.createElement(v.Input,{small:!0,onChange:function(e){return p(e.target.value)},value:f}))),!s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(at,{onClick:function(){u(!0)}},"Or Enter Image URL"))),o.a.createElement(ft,null,o.a.createElement(b.Button,{small:!0,onClick:E},"Cancel"),o.a.createElement(b.Button,{primary:!0,small:!0,onClick:function(){if(i){var e=i.view;!function(e,n,t){var r=e.schema.nodes.image.createAndFill({src:t,alt:"",title:""});n&&n(e.tr.replaceSelectionWith(r).scrollIntoView())}(e.state,e.dispatch,f),i.view.focus(),g(!1),p("")}}},"Insert"))))))},ot=i.default.button(tt()),it=i.default.div(nt()),at=i.default.button(et()),lt=i.default.div(Jn()),ct=i.default.div(Yn()),st=i.default.img(Qn()),ut=i.default.label(Zn()),dt=i.default.div(Xn()),ft=i.default.div(Gn(),b.Button),pt=i.default.span(Kn()),mt=i.default.div(Un(),(function(e){return""!==e.imageUrl&&Object(i.css)(Hn())})),ht=i.default.input(qn()),gt=i.default.label(Vn()),bt=function(e){return e.uploadImages?o.a.createElement(V,{"data-testid":"image-menu","data-tooltip":"Image","data-side":"top",disabled:!0},o.a.createElement(a.MediaIcon,null)):null};function vt(){var e=P(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 48px;\n  height: 28px;\n  opacity: 0;\n  margin: 0;\n  cursor: ",";\n"]);return vt=function(){return e},e}function kt(){var e=P(["\n  position: relative;\n  width: 48px;\n  height: 28px;\n  border-radius: var(--tina-radius-big);\n  background-color: white;\n  border: 1px solid var(--tina-color-grey-2);\n  pointer-events: none;\n  margin-left: -2px;\n  span {\n    position: absolute;\n    border-radius: var(--tina-radius-big);\n    left: 2px;\n    top: 50%;\n    width: calc(28px - 6px);\n    height: calc(28px - 6px);\n    background: ",";\n    transform: translate3d(",", -50%, 0);\n    transition: all 150ms ease-out;\n  }\n"]);return kt=function(){return e},e}function wt(){var e=P(["\n  background: none;\n  color: inherit;\n  padding: 0;\n  opacity: ",";\n  outline: none;\n  height: 28px;\n  pointer-events: ",";\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  color: var(--tina-color-grey-8);\n"]);return wt=function(){return e},e}function yt(){var e=P(["\n  display: block;\n  position: relative;\n  margin: 0 0 0.5rem 0;\n"]);return yt=function(){return e},e}function xt(){var e=P(["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: var(--tina-color-primary);\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    opacity: 1;\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"]);return xt=function(){return e},e}function _t(){var e=P(["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: var(--tina-color-primary);\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-primary-light);\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"]);return _t=function(){return e},e}function Et(){var e=P(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"]);return Et=function(){return e},e}function Ot(){var e=P(["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px var(--tina-color-primary);\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"]);return Ot=function(){return e},e}function Ct(){var e=P(["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"]);return Ct=function(){return e},e}function Mt(){var e=P(["\n  background-color: #f6f6f9;\n  position: absolute;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n  width: 16rem;\n  left: ",";\n  top: ",";\n"]);return Mt=function(){return e},e}var jt=function(){var e=Q().editorView.view,n=Rn.getState(e.state);if(!n||!n.selectedImage)return null;var t=n.selectedImage,i=t.node,a=t.pos,l=e.state.schema.marks.link,c=i.marks.find((function(e){return e.type===l})),s=Object(r.useState)(i.attrs.title),u=s[0],f=s[1],p=Object(r.useState)(i.attrs.alt),m=p[0],h=p[1],g=Object(r.useState)(c&&c.attrs.title),v=g[0],k=g[1],y=Object(r.useState)(c&&c.attrs.href),x=y[0],_=y[1],E=e.coordsAtPos(a),O=E.top,C=E.left,M=Object(r.useState)(O),j=M[0],S=M[1],I=Object(r.useState)(C),A=I[0],T=I[1],P=Object(r.useRef)(),L=Object(r.useRef)(),N=Object(r.useRef)(),D=Object(r.useState)(!!c),F=D[0],B=D[1];function R(e){var n=document.getElementsByClassName("tina-selected-image")[0],t=document.getElementsByClassName("wysiwyg-wrapper")[0];if(n&&(N.current!==n||e)&&P.current){N.current=n;var r=P.current.getBoundingClientRect();T(n.clientWidth/2+de(n,t)-r.width/2),S(ue(n,t))}}Object(r.useEffect)((function(){var e=w()((function(){return R(!0)}),10);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}})),Object(r.useEffect)((function(){k(c?c.attrs.title:""),_(c?c.attrs.href:""),B(!!c)}),[c]),Object(r.useEffect)((function(){f(i.attrs.title),h(i.attrs.alt)}),[n.selectedImage.node]),Object(r.useEffect)((function(){setTimeout((function(){L.current&&L.current.focus()}))}),[L]),Object(r.useEffect)(R);var W=function(){var n=e.dispatch,t=e.state,r=t.schema.nodes.image,o=t.schema.marks.link,l=t.tr;F&&(x||v)?l.addMark(a,a+1,o.create({href:x,title:v})):l.removeMark(a,a+1,o),l.setNodeMarkup(a,r,z({},i.attrs,{alt:m,title:u})).setSelection(new d.NodeSelection(l.doc.resolve(a))),n(l),$(),e.focus()},$=function(){(0,e.dispatch)(e.state.tr.setMeta("image_clicked",!1)),f(""),h(""),k(""),_(""),e.focus()};return o.a.createElement(b.StyleReset,null,o.a.createElement(St,{top:j,left:A,ref:P,onKeyDown:function(e){"Escape"===e.key&&$(),"Enter"===e.key&&W()}},o.a.createElement(It,null,"Title"),o.a.createElement(zt,{placeholder:"Enter Title",type:"text",ref:L,value:u,onChange:function(e){return f(e.target.value)}}),o.a.createElement(It,null,"Alt"),o.a.createElement(zt,{placeholder:"Enter Alt Text",type:"text",value:m,onChange:function(e){return h(e.target.value)}}),o.a.createElement(Lt,null,o.a.createElement(Ft,{id:"toggleImageLink",onChange:function(){B(!F),F||(k(""),_(""))},type:"checkbox"}),o.a.createElement(Nt,{htmlFor:"toggleImageLink",role:"switch"},"Insert Link",o.a.createElement(Dt,{checked:F},o.a.createElement("span",null)))),F&&o.a.createElement(o.a.Fragment,null,o.a.createElement(It,null,"Link Title"),o.a.createElement(zt,{placeholder:"Enter Link Title",type:"text",value:v,onChange:function(e){return k(e.target.value)}}),o.a.createElement(It,null,"Link URL"),o.a.createElement(zt,{placeholder:"Enter Link URL",type:"text",value:x,onChange:function(e){return _(e.target.value)}})),o.a.createElement(At,null,o.a.createElement(Pt,{onClick:$},"Cancel"),o.a.createElement(Tt,{onClick:W},"Save"))))},St=i.default.span(Mt(),(function(e){return e.left+"px"}),(function(e){return e.top+"px"})),It=i.default.label(Ct()),zt=i.default.input(Ot()),At=i.default.div(Et()),Tt=i.default.button(_t()),Pt=i.default.button(xt()),Lt=i.default.div(yt()),Nt=i.default.label(wt(),(function(e){return e.disabled?"0.4":"1"}),(function(e){return e.disabled?"none":"inherit"})),Dt=i.default.div(kt(),(function(e){return e.checked?"var(--tina-color-primary)":"var(--tina-color-grey-3)"}),(function(e){return e.checked?"20px":"0"})),Ft=i.default.input(vt(),(function(e){return e.disabled?"not-allowed":"pointer"}));function Bt(){var e=P(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  padding: 64px;\n  background-color: rgba(100, 100, 100, 0.07);\n"]);return Bt=function(){return e},e}var Rt=function(){var e=document.getElementsByClassName("image_loading_indicator");if(!e.length)return null;for(var n=[],t=0;t<e.length;t++)n.push(u.a.createPortal(o.a.createElement(Wt,null),e[0]));return o.a.createElement(o.a.Fragment,null,n)},Wt=Object(i.default)((function(e){var n=z({},e);return o.a.createElement("div",Object.assign({},n),o.a.createElement(y.LoadingDots,{color:"var(--tina-color-primary)"}))}))(Bt()),$t=/\.(jpe?g|png)/,Vt=/\bhttps?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:;%_\+.,~#?&//=]*)/g,qt=new d.PluginKey("image");function Ht(){var e;return new d.Plugin({key:qt,state:{init:function(){return{showLinkForm:!1}},apply:function(e,n,t){return!1===e.getMeta("show_link_toolbar")?{show_link_toolbar:!1}:e.getMeta("show_link_toolbar")?{show_link_toolbar:!0}:n}},props:{transformPasted:function(n){return e?n:new x.Slice(function e(n){var t=[];return n.forEach((function(n){if(n.isText){for(var r,o=n.text,i=0,a=n.type.schema.marks.link,l=n.type.schema.nodes.image,c=[];r=Vt.exec(o);){var s=r.index,u=s+r[0].length;c.push({start:s,end:u})}c.forEach((function(e){var r,c=e.start,s=e.end;c>0&&t.push(n.cut(i,c));var u=o.slice(c,s);$t.test(u)?(r={src:u,title:"",alt:""},t.push(l.create(r))):(r={href:u,title:u},t.push(n.cut(c,s).mark(a.create(r).addToSet(n.marks)))),i=s})),i<o.length&&t.push(n.cut(i))}else t.push(n.copy(e(n.content)))})),x.Fragment.fromArray(t)}(n.content),n.openStart,n.openEnd)},handleKeyDown:function(n,t){return e=t.shiftKey,!1},handleClickOn:function(e,n){(0,e.dispatch)(e.state.tr.setMeta("show_link_toolbar",!1))}}})}function Ut(e,n){window.$cursor=e;var t=e.index(),r=e.indexAfter();t===e.parent.childCount&&(t--,r--);var o=n.isInSet(e.parent.child(t).marks);if(o){for(var i=function(n){return o.isInSet(e.parent.child(n).marks)};t>0&&i(t-1);)t--;for(;r<e.parent.childCount&&i(r);)r++;for(var a=e.start(),l=a,c=0;c<r;c++){var s=e.parent.child(c).nodeSize;c<t&&(a+=s),l+=s}return{from:a,to:l,mark:o}}}var Kt=function(e,n){var t=e.schema,r=e.selection,o=t.marks;if(r.empty&&!fe(e,o.link))return!1;var i=e.tr.setMeta("show_link_toolbar",!0);if(!fe(e,o.link)){var a=r.$to,l=r.$from;i.addMark(l.pos,a.pos,o.link.create({href:"",title:""}))}return n(i)},Gt=J({mark:"link",Icon:a.LinkIcon,tooltip:me("Link Mod-K"),selectionOnly:!0,noMix:["code"],isDisabled:function(e){var n=e.state,t=n.schema,r=n.selection,o=t.marks,i=t.nodes;if(r.empty&&!fe(e.state,o.link))return!0;var a=r.$from.node(),l=Rn.getState(e.state);return!!(null==l?void 0:l.selectedImage)||a&&a.type===i.code_block},onMenuOptionClick:function(e){var n=e.state,t=e.dispatch;return Kt(n,t)}}),Xt=function(){return o.a.createElement(V,{"data-tooltip":"Link","data-side":"top",disabled:!0},o.a.createElement(a.LinkIcon,null))};function Zt(){var e=P(["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: #0084ff;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #f6f6f9;\n    opacity: 1;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n"]);return Zt=function(){return e},e}function Qt(){var e=P(["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: #0084ff;\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #2296fe;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n  &:disabled {\n    background-color: #d1d1d1;\n    box-shadow: none;\n  }\n"]);return Qt=function(){return e},e}function Yt(){var e=P(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"]);return Yt=function(){return e},e}function Jt(){var e=P(["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px #0084ff;\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"]);return Jt=function(){return e},e}function er(){var e=P(["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"]);return er=function(){return e},e}function nr(){var e=P(["\n  background-color: #f6f6f9;\n  position: relative;\n  height: max-content;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  animation: "," 85ms ease-out both 1;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n"]);return nr=function(){return e},e}function tr(){var e=P(["\n  0% {\n    transform: scale3d(0.5,0.5,1)\n  }\n  100% {\n    transform: scale3d(1, 1, 1);\n  }\n"]);return tr=function(){return e},e}var rr=function(e){function n(){var n;return(n=e.apply(this,arguments)||this).state={href:n.props.href||""},n.inputRef=Object(r.createRef)(),n.setHref=function(e){var t=e.target.value;return n.setState((function(){return{href:t}}))},n.save=function(){return n.props.onChange(n.state)},n.onEnterSave=function(e){"Enter"===e.key&&n.save()},n.onEscapeCancel=function(e){27===e.keyCode&&n.closeModal()},n}A(n,e);var t=n.prototype;return t.componentDidMount=function(){document.addEventListener("keydown",this.onEscapeCancel),this.inputRef.current&&this.inputRef.current.focus()},t.componentWillUnmount=function(){document.removeEventListener("keydown",this.onEscapeCancel)},t.componentDidUpdate=function(e){var n=this.props.href;n!==e.href&&this.setState((function(){return{href:n}}))},t.closeModal=function(){var e=this.state.href,n=this.props,t=n.cancel,r=n.removeLink,o=n.href;e||o||r(),t()},t.render=function(){var e=this.props,n=e.removeLink,t=e.style,o=void 0===t?{}:t,i=this.state.href;return Object(r.createElement)(ir,{style:z({},o)},Object(r.createElement)(ar,null,"URL"),Object(r.createElement)(lr,{ref:this.inputRef,placeholder:"Enter URL",type:"text",value:i,onChange:this.setHref,onKeyPress:this.onEnterSave}),Object(r.createElement)(cr,null,Object(r.createElement)(ur,{onClick:n},"Delete"),Object(r.createElement)(sr,{onClick:this.save,disabled:!i},"Save")))},n}(r.Component),or=Object(i.keyframes)(tr()),ir=i.default.div(nr(),or),ar=i.default.label(er()),lr=i.default.input(Jt()),cr=i.default.div(Yt()),sr=i.default.button(Qt()),ur=i.default.button(Zt());function dr(){var e=P(["\n  position: absolute;\n  top: ",";\n  left: ",";\n  margin-top: 3px;\n  transform: translate3d(-50%, -100%, 0);\n  width: 16px;\n  height: 13px;\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  background-color: #f6f6f9;\n  z-index: 100;\n"]);return dr=function(){return e},e}function fr(){var e=P(["\n  position: relative;\n"]);return fr=function(){return e},e}var pr=function(){var e=Q().editorView,n=Object(r.useState)(void 0),t=n[0],o=n[1];if(!e)return null;var i=e.view,a=qt.getState(i.state),l=i.state.selection,c=l.anchor,s=l.head,u=c<s?c:s,d=(i.state.selection.empty?i.domAtPos(u).node:i.domAtPos(u+1).node).parentNode,f=Object(r.createRef)();if(Object(r.useEffect)((function(){if(d&&f.current){var e=function(e,n,t){var r=e.offsetWidth,o=de(e),i=n.parentElement.offsetWidth,a=de(n),l=o-a+r/2-t/2;if(l<-a)return"-8px";if(l+t>i)return"calc("+(l-(l+t-i))+"px + 8px)";return l+"px"}(d,f.current,240),n="calc(32px + "+(ue(d)-ue(f.current))+"px)",t=function(e,n,t){var r=e.offsetWidth,o=de(e),i=de(n);return o-i+r/2+"px"}(d,f.current);o({arrowOffset:t,left:e,top:n})}else o(void 0)}),[a]),!a.show_link_toolbar)return null;var p=t||{},m=p.arrowOffset,h=p.left,g=p.top,v=i.state,k=i.dispatch,w="",y=pe(v,v.schema.marks.link);return y&&(w=y.attrs.href),Object(r.createElement)("div",{ref:f,style:{position:"absolute"}},t&&Object(r.createElement)(b.StyleReset,null,Object(r.createElement)(mr,null,Object(r.createElement)(hr,{offset:m,top:g}),Object(r.createElement)(rr,{style:{left:h,top:g,width:"240px"},removeLink:function(){return function(e,n){if(n){var t=e.selection,r=e.schema,o=e.tr,i=Ut(t.$anchor,r.marks.link);i&&o.removeMark(i.from,i.to,i.mark),o.setMeta("show_link_toolbar",!1),n(o)}return!0}(v,k)},onChange:function(e){!function(e,n,t){if(n){var r=e.selection,o=e.schema,i=e.tr,a=Ut(r.$anchor,o.marks.link);a&&i.addMark(a.from,a.to,o.marks.link.create(t)),i.setMeta("show_link_toolbar",!1),n(i)}}(i.state,i.dispatch,e),i.focus()},href:w,cancel:function(){!function(e){(0,e.dispatch)(e.state.tr.setMeta("show_link_toolbar",!1))}(i),i.focus()}}))))},mr=i.default.div(fr()),hr=i.default.div(dr(),(function(e){return e.top}),(function(e){return e.offset}));function gr(){var e=P(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  position: relative;\n  top: 0;\n  width: 100%;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  border: 1px solid var(--tina-color-grey-2);\n  overflow: hidden;\n  z-index: var(--tina-z-index-0);\n"]);return gr=function(){return e},e}function br(){var e=P(["\n      position: fixed;\n      width: ","px;\n      top: ",";\n    "]);return br=function(){return e},e}function vr(){var e=P(["\n  position: relative;\n  margin-bottom: 14px;\n  z-index: var(--tina-z-index-1);\n\n  ",";\n"]);return vr=function(){return e},e}function kr(){var e=P(["\n  color: transparent;\n  background: transparent;\n  pointer-events: none;\n  position: relative;\n  display: block;\n  height: ","px;\n  width: ","px;\n"]);return kr=function(){return e},e}var wr=i.default.div(kr(),(function(e){return e.menuBoundingBox.height}),(function(e){return e.menuBoundingBox.width})),yr=i.default.div(vr(),(function(e){return e.menuFixed&&Object(i.css)(br(),e.menuBoundingBox.width,e.menuFixedTopOffset)})),xr=i.default.div(gr()),_r=function(e){var n=e.sticky,t=void 0===n||n,i=e.menus,a=e.plugins,l=e.popups,c=Object(r.useState)(!1),s=c[0],u=c[1],d="undefined"!=typeof window,f=Object(r.useRef)(null),p=Object(r.useState)(null),m=p[0],h=p[1],g="string"==typeof t?t:"0",b=Q().editorView,v=K().mode;Object(r.useEffect)((function(){f.current&&t&&h(f.current.getBoundingClientRect())}),[f,b,v]),Object(r.useLayoutEffect)((function(){if(d&&f.current&&t){var e=function(){var e=f.current.parentElement,n=e?e.offsetTop:0,t=e?n+e.offsetHeight:0;window.scrollY>n&&window.scrollY<t?u(!0):u(!1)},n=function(){if(f.current){var e=s;u(!1),h(f.current.getBoundingClientRect()),u(e)}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",n),function(){window.removeEventListener("scroll",e),window.removeEventListener("resize",n)}}}),[f,m]);var k=o.a.useCallback((function(e){e.stopPropagation(),e.preventDefault()}),[]);return o.a.createElement(o.a.Fragment,null,s&&o.a.createElement(wr,{menuBoundingBox:m}),o.a.createElement(yr,{menuFixedTopOffset:g,menuFixed:s,menuBoundingBox:m,ref:f,"data-testid":"base-menubar"},o.a.createElement(ne,null,o.a.createElement(xr,{onMouseDown:k},i,null==a?void 0:a.map((function(e){var n=e.MenuItem;return o.a.createElement(n,{mode:v,editorView:b})}))))),l)},Er=function(e){var n=e.plugins,t=e.uploadImages,r=T(e,["plugins","uploadImages"]);return o.a.createElement(_r,Object.assign({},r,{menus:[o.a.createElement(qe,null),o.a.createElement(mn,null),o.a.createElement(Xt,null),o.a.createElement(bt,{uploadImages:t}),o.a.createElement(Dn,null),o.a.createElement(On,null),o.a.createElement(Ke,null),o.a.createElement(wn,null),o.a.createElement(on,null)],plugins:n}))};function Or(){var e=P(["\n  border: none;\n  font-family: monospace;\n  font-size: 16px;\n  margin: 10px 0;\n  resize: none;\n  width: 100%;\n  &:focus {\n    outline: none;\n  }\n"]);return Or=function(){return e},e}var Cr=function(e){var n=e.imageProps,t=e.onChange,o=e.value,i=e.plugins,a=e.sticky,l=Object(r.useRef)(null),c=Object(r.useState)(o),s=c[0],u=c[1],d=D().browserFocused;return Object(r.useEffect)((function(){var e=l.current;e&&(e.focus({preventScroll:!0}),e.setSelectionRange(e.value.length,e.value.length))}),[]),Object(r.useEffect)((function(){var e=l.current;e&&(e.style.height="0",e.style.height=e.scrollHeight+20+"px")})),Object(r.useEffect)((function(){var e=l.current===document.activeElement;d&&e||u(o)}),[o]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Er,{sticky:a,uploadImages:null==n?void 0:n.upload,plugins:i}),Object(r.createElement)(Mr,{"data-testid":"markdown-editing-textarea",ref:l,value:s,onChange:function(e){var n=e.target.value;u(n),t(n)},onFocus:function(e){e.preventDefault(),e.target.focus({preventScroll:!0})}}))},Mr=i.default.textarea(Or());function jr(e){var n={};for(var t in e)e[t]&&(n["forestry-"+t]=e[t]);return n}function Sr(e){var n={};for(var t in e)e[t]&&(n[t]=e[t]);return n}function Ir(e){return function(n){return z({},e,zr(n))}}function zr(e){for(var n={},t=e.attributes,r=0;r<t.length;r++){var o=t[r];if(o.value)n[o.name.startsWith("forestry-")?o.name.slice(9):o.name]=o.value}return n}var Ar={attrs:{level:{default:1},class:{default:""},id:{default:""}},content:"inline*",marks:"_",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:Ir({level:1})},{tag:"h2",getAttrs:Ir({level:2})},{tag:"h3",getAttrs:Ir({level:3})},{tag:"h4",getAttrs:Ir({level:4})},{tag:"h5",getAttrs:Ir({level:5})},{tag:"h6",getAttrs:Ir({level:6})}],toDocument:function(e){var n=e.attrs;return["h"+n.level,Sr(T(n,["level"])),0]},toDOM:function(e){var n=e.attrs;return["h"+n.level,jr(T(n,["level"])),0]}},Tr={inline:!0,attrs:{src:{},align:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},group:"inline",draggable:!0,allowGapCursor:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),align:Lr(e),width:e.getAttribute("width"),height:e.getAttribute("height")}}}],toDOM:function(e){var n={src:e.attrs.src};return e.attrs.title&&(n.title=e.attrs.title),e.attrs.alt&&(n.alt=e.attrs.alt),e.attrs.width&&(n.width=e.attrs.width),e.attrs.height&&(n.height=e.attrs.height),e.attrs.align&&(n.class="align-"+e.attrs.align),["img",n]}},Pr=/align-([a-z]*)/;function Lr(e){var n=e.getAttribute("class")||"",t=Pr.exec(n);return t&&t.length>1?t[1]:null}var Nr={content:"inline*",marks:"_",attrs:{class:{default:""},id:{default:""}},group:"block",parseDOM:[{tag:"p",getAttrs:zr}],toDocument:function(e){return["p",Sr(e.attrs),0]},toDOM:function(e){return["p",jr(e.attrs),0]}},Dr=Object(g.tableNodes)({tableGroup:"block",cellContent:"inline*",cellAttributes:{}});Dr.table_cell=z({},Dr.table_cell,{marks:"_",attrs:z({},Dr.table_cell.attrs,{align:{default:null}}),toDOM:function(e){var n={};return e.attrs.align&&(n.style="text-align: "+e.attrs.align+";"),["td",n,0]}}),Dr.table_header=z({},Dr.table_header,{marks:"_",attrs:z({},Dr.table_header.attrs,{align:{default:null}}),toDOM:function(e){var n={};return e.attrs.align&&(n.style="text-align: "+e.attrs.align+";"),["th",n,0]}});var Fr,Br={code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code"]},excludes:"em strong strike"},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function(e){return"italic"===e&&null}}],toDOM:function(){return["em"]},excludes:"code"},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){return["a",e.attrs]},toDocument:function(e){return["a",e.attrs]}},strike:{parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e&&null}}],toDOM:function(){return["s",0]},excludes:"code"},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!=e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong"]},excludes:"code"}},Rr=z({doc:{content:"block+"},paragraph:Nr,blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:function(e){return{tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},code_block:{content:"text*",attrs:{params:{default:""}},group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){return{params:e.getAttribute("data-params")}}}],toDOM:function(e){return["pre",{"data-params":e.attrs.params},["code",0]]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},heading:Ar,horizontal_rule:{group:"block",allowGapCursor:!0,parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},image:Tr,list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+(e.getAttribute("start")||0):1,tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},text:{group:"inline"}},Dr),Wr=function(){},$r=function(){function e(e,n){this.nodes=e,this.marks=n}return e.prototype.serialize=function(e,n){void 0===n&&(n={});var t=new Vr(this.nodes,this.marks,n);return t.renderContent(e),t.out},e}(),Vr=function(){function e(e,n,t){this.nodes=e,this.marks=n,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=t||{},void 0===this.options.tightLists&&(this.options.tightLists=!1)}var n=e.prototype;return n.flushClose=function(e){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==e&&(e=2),e>1){var n=this.delim,t=/\s+$/.exec(n);t&&(n=n.slice(0,n.length-t[0].length));for(var r=1;r<e;r++)this.out+=n+"\n"}this.closed=!1}},n.wrapBlock=function(e,n,t,r){var o=this.delim;this.write(n||e),this.delim+=e,r(),this.delim=o,this.closeBlock(t)},n.atBlank=function(){return/(^|\n)$/.test(this.out)},n.ensureNewLine=function(){this.atBlank()||(this.out+="\n")},n.write=function(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)},n.closeBlock=function(e){this.closed=e},n.text=function(e,n,t){for(var r=e.split("\n"),o=0;o<r.length;o++){var i=this.atBlank()||this.closed;this.write();var a=!1!==n?this.esc(r[o],i):r[o];a=t?t(a):a,this.out+=a,o!=r.length-1&&(this.out+="\n")}},n.render=function(e,n,t,r){if("number"==typeof n)throw new Error("!");this.nodes[e.type.name](this,e,n,t,r)},n.renderContent=function(e){var n=this;e.forEach((function(t,r,o){return n.render(t,e,o)}))},n.renderInline=function(e,n){var t=this,r=[],o="",i=function(i,a,l){void 0===l&&(l=0);var c=i?i.marks:[],s=c.findIndex((function(e){return"code"===e.type.name}));s>=0&&c.length>1&&(c=[].concat(c.slice(0,s),c.slice(s+1,c.length),[c[s]]));var u=o;if(o="",i&&i.isText&&c.some((function(e,n,r){var o=t.marks[e.type.name];return!(!o||!o.expelEnclosingWhitespace)}))&&/^(\s*)(.*?)(\s*)$/.test(i.text||"")){var d=Array.from(/^(\s*)(.*?)(\s*)$/.exec(i.text||"")||[]),f=d[1],p=d[2],m=d[3];u+=f,o=m,(f||m)&&((i=p?i.withText(p):null)||(c=r))}var h=c.length&&c[c.length-1],g=h&&!1===t.marks[h.type.name].escape,b=c.length-(g?1:0);e:for(var v=0;v<b;v++){var k=c[v];if(!t.marks[k.type.name].mixable)break;for(var w=0;w<r.length;w++){var y=r[w];if(!t.marks[y.type.name].mixable)break;if(k.eq(y)){v>w?c=c.slice(0,w).concat(k).concat(c.slice(w,v)).concat(c.slice(v+1,b)):w>v&&(c=c.slice(0,v).concat(c.slice(v+1,w)).concat(k).concat(c.slice(w,b)));continue e}}}for(var x=0;x<Math.min(r.length,b)&&c[x].eq(r[x]);)++x;for(;x<r.length;)t.text(t.markString(r.pop(),!1,i),!1);if(u&&t.text(u),i){for(;r.length<b;){var _=c[r.length];r.push(_),t.text(t.markString(_,!0,i),!1)}g&&i.isText&&h?t.text(t.markString(h,!1,i)+i.text+t.markString(h,!0,i),!1,n):t.render(i,e,l,n)}};e.forEach(i),i(null)},n.renderList=function(e,n,t){var r=this;this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var o=this.options.tightLists,i=this.inTightList;this.inTightList=!!o,e.forEach((function(i,a,l){l&&o&&r.flushClose(1),r.wrapBlock(n,t(l),e,(function(){return r.render(i,e,l)}))})),this.inTightList=i},n.esc=function(e,n){return e=e.replace(/[`\\~\[\]]/g,"\\$&"),n&&(e=e.replace(/^[#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),e},n.quote=function(e){var n=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return n[0]+e+n[1]},n.repeat=function(e,n){for(var t="",r=0;r<n;r++)t+=e;return t},n.markString=function(e,n,t){var r=this.marks[e.type.name],o=n?r.open:r.close;return"string"==typeof o?o:o(this,e,t)},n.getEnclosingWhitespace=function(e){return{leading:(e.match(/^(\s+)/)||[])[0],trailing:(e.match(/(\s+)$/)||[])[0]}},e}(),qr=t("yDJ3"),Hr=((Fr={})["text-align:left"]="left",Fr["text-align:center"]="center",Fr["text-align:right"]="right",Fr),Ur={left:":---",center:":---:",right:"---:"},Kr={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list"},ordered_list:{block:"ordered_list",getAttrs:function(e){return{order:+e.attrGet("order")||1}}},heading:{block:"heading",getAttrs:function(e){return{level:+e.tag.slice(1)}}},code_block:{block:"code_block"},fence:{block:"code_block",getAttrs:function(e){return{params:e.info||""}}},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function(e){return{src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null,width:e.attrGet("width")||null,height:e.attrGet("height")||null}}},table:{block:"table"},table_row:{block:"table_row"},table_cell:{block:"table_cell",getAttrs:function(e){var n="";if(e.attrs)for(var t=0;t<e.attrs.length;t++)"style"===e.attrs[t][0]&&(n=e.attrs[t][1]);return{align:Hr[n]}}},table_header:{block:"table_header",getAttrs:function(e){var n="";if(e.attrs)for(var t=0;t<e.attrs.length;t++)"style"===e.attrs[t][0]&&(n=e.attrs[t][1]);return{align:Hr[n]}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strike:{mark:"strike"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},code_inline:{mark:"code"}},Gr={blockquote:function(e,n){e.wrapBlock("> ",null,n,(function(){return e.renderContent(n)}))},code_block:function(e,n){n.attrs.params?(e.write("```"+n.attrs.params+"\n"),e.text(n.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(n)):e.wrapBlock("    ",null,n,(function(){return e.text(n.textContent,!1)}))},heading:function(e,n){/\n/.test(n.textContent)&&n.attrs.level<3?(e.renderInline(n),e.write("\n"),e.write(1===n.attrs.level?"=":"-")):(e.write(e.repeat("#",n.attrs.level)+" "),e.renderInline(n)),e.closeBlock(n)},horizontal_rule:function(e,n){e.write(n.attrs.markup||"***"),e.closeBlock(n)},bullet_list:function(e,n){e.renderList(n,"  ",(function(){return(n.attrs.bullet||"*")+" "}))},ordered_list:function(e,n){var t=n.attrs.order||1,r=String(t+n.childCount-1).length,o=e.repeat(" ",r+2);e.renderList(n,o,(function(n){var o=String(t+n);return e.repeat(" ",r-o.length)+o+". "}))},list_item:function(e,n){e.renderContent(n)},paragraph:function(e,n,t,r){e.renderInline(n),e.closeBlock(n)},image:function(e,n){var t="";(n.attrs.height||n.attrs.width)&&(t=" ="+(n.attrs.width||"")+"x"+(n.attrs.height||""));var r=e.esc(n.attrs.alt||""),o=e.esc(n.attrs.src),i=n.attrs.title?" "+e.quote(n.attrs.title):"";e.write("!["+r+"]("+o+i+t+")")},hard_break:function(e,n,t,r){if(t&&"number"==typeof r)for(var o=r+1;o<t.childCount;o++)if(t.child(o).type!=n.type)return void e.write("  \n")},text:function(e,n,t,r,o){"string"==typeof n.text&&e.text(n.text,!0,o)},table:function(e,n){var t=!0;n.forEach((function(n){var r="table_cell"===n.content.child(0).type.name;if(t&&r){e.write("|");for(var o=0;o<n.childCount;o++){var i=n.content.child(o).attrs.align,a=Ur[i]||"---";e.write(" "+a+" |")}e.write("\n"),t=!1}Gr.table_row(e,n)})),e.closeBlock(n)},table_row:function(e,n){e.write("|"),e.renderContent(n),e.write("\n")},table_cell:function(e,n){e.write(" "),e.renderInline(n,(function(e){return e.replace(/[\|]/g,"\\$&")})),e.write(" |")},table_header:function(e,n){Gr.table_cell(e,n)}},Xr={em:{open:"_",close:"_",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:function(e,n,t){return qr(t,"text","").endsWith("*")?n.openedWith="__":"**"},close:function(e,n,t){if(n.openedWith){var r=n.openedWith;return n.openedWith=null,r}return qr(t,"text","").endsWith("*")?"__":"**"},mixable:!0,expelEnclosingWhitespace:!0},link:{open:"[",close:function(e,n){return"]("+e.esc(n.attrs.href)+(n.attrs.title?" "+e.quote(n.attrs.title):"")+")"}},strike:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0},code:{open:"`",close:"`",escape:!1}};function Zr(e){return new $r(function(e){var n={};return e.nodes.blockquote&&(n.blockquote=Gr.blockquote),e.nodes.paragraph&&(n.paragraph=Gr.paragraph),e.nodes.list_item&&(n.list_item=Gr.list_item),e.nodes.bullet_list&&(n.bullet_list=Gr.bullet_list),e.nodes.ordered_list&&(n.ordered_list=Gr.ordered_list),e.nodes.heading&&(n.heading=Gr.heading),e.nodes.code_block&&(n.code_block=Gr.code_block),e.nodes.horizontal_rule&&(n.horizontal_rule=Gr.horizontal_rule),e.nodes.image&&(n.image=Gr.image),e.nodes.hard_break&&(n.hard_break=Gr.hard_break),e.nodes.ordered_list&&(n.ordered_list=Gr.ordered_list),e.nodes.bullet_list&&(n.bullet_list=Gr.bullet_list),e.nodes.list_item&&(n.list_item=Gr.list_item),e.nodes.table&&(n.table=Gr.table,n.table_header=Gr.table_header,n.table_row=Gr.table_row,n.table_cell=Gr.table_cell),n.text=Gr.text,n}(e),Xr)}function Qr(e,n,t){var r,o=n,i={ok:!1,pos:n};for(r=e.charCodeAt(n);n<t&&r>=48&&r<=57||37===r;)r=e.charCodeAt(++n);return i.ok=!0,i.pos=n,i.value=Number(e.slice(o,n)),i}function Yr(e,n,t){var r,o,i=e.utils.isSpace,a=e.utils.unescapeAll,l=n.src,c=n.posMax,s=t,u={ok:!1,pos:0,lines:0,str:""};if(60===l.charCodeAt(t)){for(t++;t<c;){if(10===(r=l.charCodeAt(t))||i(r))return u;if(62===r)return u.pos=t+1,u.str=a(l.slice(s+1,t)),u.ok=!0,u;92===r&&t+1<c?t+=2:t++}return u}for(o=0;t<c;){if(61==(r=l.charCodeAt(t))||34==r||39==r){t--;break}if(r<32||127===r)break;if(92===r&&t+1<c)t+=2;else{if(40===r&&o++,41===r){if(0===o)break;o--}t++}}return s===t||0!==o||(u.str=a(l.slice(s,t)),u.lines=0,u.pos=t,u.ok=!0),u}function Jr(e){return function(n,t){var r,o,i,a,l,c,s,u,d,f,p=null,m=null,h="",g=n.pos,b=n.posMax;if(33!==n.src.charCodeAt(n.pos))return!1;if(91!==n.src.charCodeAt(n.pos+1))return!1;var v=n.pos+2,k=e.helpers.parseLinkLabel(n,n.pos+1,!1);if(k<0)return!1;if((a=k+1)<b&&40===n.src.charCodeAt(a)){for(a++;a<b&&(32===(o=n.src.charCodeAt(a))||10===o);a++);if(a>=b)return!1;for(f=a,(c=Yr(e,n,a)).ok&&(h=c.str,n.md.validateLink(h)?a=c.pos:h=""),f=a;a<b&&(32===(o=n.src.charCodeAt(a))||10===o);a++);if(c=e.helpers.parseLinkTitle(n.src,a,n.posMax),a<b&&f!==a&&c.ok)for(s=c.str,a=c.pos;a<b&&(32===(o=n.src.charCodeAt(a))||10===o);a++);else s="";if(a-1>=0&&32===(o=n.src.charCodeAt(a-1))&&(c=function(e,n,t){var r,o={ok:!1,pos:0};if(n>=t)return o;if(61!==(r=e.charCodeAt(n)))return o;if(n++,120!==(r=e.charCodeAt(n))&&(r<48||r>57))return o;var i=Qr(e,n,t);if(n=i.pos,120!==(r=e.charCodeAt(n)))return o;var a=Qr(e,++n,t);return n=a.pos,o.width=i.value,o.height=a.value,o.pos=n,o.ok=!0,o}(n.src,a,n.posMax)).ok)for(p=c.width,m=c.height,a=c.pos;a<b&&(32===(o=n.src.charCodeAt(a))||10===o);a++);if(a>=b||41!==n.src.charCodeAt(a))return n.pos=g,!1;a++}else{if(void 0===n.env.references)return!1;for(;a<b&&(32===(o=n.src.charCodeAt(a))||10===o);a++);if(a<b&&91===n.src.charCodeAt(a)?(f=a+1,(a=e.helpers.parseLinkLabel(n,a))>=0?i=n.src.slice(f,a++):a=k+1):a=k+1,i||(i=n.src.slice(v,k)),!(l=n.env.references[e.utils.normalizeReference(i)]))return n.pos=g,!1;h=l.href,s=l.title}if(!t){n.pos=v,n.posMax=k;var w=new n.md.inline.State(n.src.slice(v,k),n.md,n.env,d=[]);w.md.inline.tokenize(w),(u=n.push("image","img",0)).attrs=r=[["src",h],["alt",""]],u.children=d,s&&r.push(["title",s]),null!==p&&r.push(["width",p]),null!==m&&r.push(["height",m])}return n.pos=a,n.posMax=b,!0}}function eo(e){e.inline.ruler.before("emphasis","image",Jr(e))}function no(e){e.inline.ruler.before("emphasis","link",function(e){return function(n,t){var r,o,i,a,l,c,s,u=n.md.utils.normalizeReference,d=n.md.utils.isSpace,f="",p=n.pos,m=!0,h=n.pos,g=n.posMax;if(91!==n.src.charCodeAt(n.pos))return!1;var b=n.pos+1,v=n.md.helpers.parseLinkLabel(n,n.pos,!0);if(v<0)return!1;if((a=v+1)<g&&40===n.src.charCodeAt(a)){for(m=!1,a++;a<g&&(d(o=n.src.charCodeAt(a))||10===o);a++);if(a>=g)return!1;for(p=a,(l=Yr(e,n,a)).ok&&(f=l.str,n.md.validateLink(f)?a=l.pos:f=""),p=a;a<g&&(d(o=n.src.charCodeAt(a))||10===o);a++);if(l=n.md.helpers.parseLinkTitle(n.src,a,n.posMax),a<g&&p!==a&&l.ok)for(s=l.str,a=l.pos;a<g&&(d(o=n.src.charCodeAt(a))||10===o);a++);else s="";(a>=g||41!==n.src.charCodeAt(a))&&(m=!0),a++}if(m){if(void 0===n.env.references)return!1;if(a<g&&91===n.src.charCodeAt(a)?(p=a+1,(a=n.md.helpers.parseLinkLabel(n,a))>=0?i=n.src.slice(p,a++):a=v+1):a=v+1,i||(i=n.src.slice(b,v)),!(c=n.env.references[u(i)]))return n.pos=h,!1;f=c.href,s=c.title}return t||(n.pos=b,n.posMax=v,n.push("link_open","a",1).attrs=r=[["href",f]],s&&r.push(["title",s]),n.md.inline.tokenize(n),n.push("link_close","a",-1)),n.pos=a,n.posMax=g,!0}}(e))}var to={strike:"s"};var ro=function(){function e(e,n){this.schema=e,this.stack=[{type:e.topNodeType,content:[]}],this.marks=x.Mark.none,this.tokenHandlers=n}var n=e.prototype;return n.top=function(){return this.stack[this.stack.length-1]},n.push=function(e){this.stack.length&&this.top().content.push(e)},n.addText=function(e){if(e){var n,t=this.top().content,r=t[t.length-1],o=this.schema.text(e,this.marks);r&&(n=function(e,n){if(e.isText&&n.isText&&x.Mark.sameSet(e.marks,n.marks))return e.copy(e.text+n.text)}(r,o))?t[t.length-1]=n:t.push(o)}},n.openMark=function(e){this.marks=e.addToSet(this.marks)},n.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},n.parseTokens=function(e){for(var n=0;n<e.length;n++){var t=e[n],r=this.tokenHandlers[t.type];if(!r)throw new Error("Token type `"+t.type+"` not supported by Markdown parser");r(this,t)}},n.addNode=function(e,n,t){var r=e.createAndFill(n,t,this.marks);return r?(this.push(r),r):null},n.openNode=function(e,n){this.stack.push({type:e,attrs:n,content:[]})},n.closeNode=function(){this.marks.length&&(this.marks=x.Mark.none);var e=this.stack.pop();if(e)return this.addNode(e.type,e.attrs,e.content)},e}();function oo(e,n){return e.getAttrs?e.getAttrs(n):e.attrs instanceof Function?e.attrs(n):e.attrs}function io(e){return"code_inline"==e||"code_block"==e||"fence"==e}function ao(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function lo(){}var co=function(){function e(e,n,t){this.tokens=t,this.schema=e,this.tokenizer=n,this.tokenHandlers=function(e,n){var t=Object.create(null),r=function(r){var o=n[r];if(o.block){var i=e.nodeType(o.block);io(r)?t[r]=function(e,n){e.openNode(i,oo(o,n)),e.addText(ao(n.content)),e.closeNode()}:(t[r+"_open"]=function(e,n){return e.openNode(i,oo(o,n))},t[r+"_close"]=function(e){return e.closeNode()})}else if(o.node){var a=e.nodeType(o.node);t[r]=function(e,n){return e.addNode(a,oo(o,n))}}else if(o.mark){var l=e.marks[o.mark];io(r)?t[r]=function(e,n){e.openMark(l.create(oo(o,n))),e.addText(ao(n.content)),e.closeMark(l)}:(t[(to[r]||r)+"_open"]=function(e,n){return e.openMark(l.create(oo(o,n)))},t[(to[r]||r)+"_close"]=function(e){return e.closeMark(l)})}else{if(!o.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o));io(r)?t[r]=lo:(t[r+"_open"]=lo,t[r+"_close"]=lo)}};for(var o in n)r(o);return t.text=function(e,n){return e.addText(n.content)},t.inline=function(e,n){return e.parseTokens(n.children)},t.softbreak=function(e){return e.addText("\n")},t}(e,t)}return e.prototype.parse=function(e){var n,t=new ro(this.schema,this.tokenHandlers);t.parseTokens(this.tokenizer.parse(e,{}));do{n=t.closeNode()}while(t.stack.length);return n},e}(),so=t("1M3H");function uo(e){var n=so({html:!1});return n.use(eo),n.use(no),new co(e,n,function(e){var n={};return e.nodes.blockquote&&(n.blockquote=Kr.blockquote),e.nodes.paragraph&&(n.paragraph=Kr.paragraph),e.nodes.list_item&&(n.list_item=Kr.list_item),e.nodes.bullet_list&&(n.bullet_list=Kr.bullet_list),e.nodes.ordered_list&&(n.ordered_list=Kr.ordered_list),e.nodes.heading&&(n.heading=Kr.heading),e.nodes.code_block&&(n.code_block=Kr.code_block,n.fence=Kr.fence),e.nodes.horizontal_rule&&(n.hr=Kr.hr),e.nodes.image&&(n.image=Kr.image),e.nodes.hard_break&&(n.hardbreak=Kr.hardbreak),e.nodes.ordered_list&&(n.ordered_list=Kr.ordered_list),e.nodes.bullet_list&&(n.bullet_list=Kr.bullet_list),e.nodes.list_item&&(n.list_item=Kr.list_item),e.nodes.table&&(n.table=Kr.table,n.thead={ignore:!0},n.th=Kr.table_header,n.tbody={ignore:!0},n.tr=Kr.table_row,n.td=Kr.table_cell),e.marks.em&&(n.em=Kr.em),e.marks.strong&&(n.strong=Kr.strong),e.marks.link&&(n.link=Kr.link),e.marks.code&&(n.code_inline=Kr.code_inline),e.marks.strike&&(n.strike=Kr.strike),n}(e))}var fo=function(e){function n(n){var t;return(t=e.call(this)||this).parser=null,t.serializer=null,t.schema=n,t}A(n,e),n.fromSchema=function(e){return n.commonMarkFromSchema(e)},n.commonMarkFromSchema=function(e){var t=new n(e);return t.parser=uo(e),t.serializer=Zr(e),t};var t=n.prototype;return t.nodeFromString=function(e){return this.parser.parse(e)},t.stringFromNode=function(e){return this.serializer.serialize(e,{tightLists:!0})},n}(Wr),po=function(e){function n(){return e.apply(this,arguments)||this}return A(n,e),n.nodesFromSchema=function(e){var n=mo(e.nodes);return n.text||(n.text=function(e){return e.text}),n},n.marksFromSchema=function(e){return mo(e.marks)},n}(x.DOMSerializer);function mo(e){var n={};for(var t in e){var r=e[t].spec.toDocument,o=e[t].spec.toDOM;r?n[t]=r:o&&(n[t]=o)}return n}var ho=function(e){function n(n){var t;return(t=e.call(this)||this).schema=n,t.parser=x.DOMParser.fromSchema(n),t.serializer=po.fromSchema(n),t}A(n,e),n.fromSchema=function(e){return new n(e)};var t=n.prototype;return t.nodeFromString=function(e){var n;try{n=window.document.createRange().createContextualFragment(e)}catch(t){n=(new DOMParser).parseFromString(e,"text/html")}return this.parser.parse(n)},t.stringFromNode=function(e){var n=document.createElement("div");return n.appendChild(this.serializer.serializeFragment(e.content)),n.innerHTML},n}(Wr),go=new d.PluginKey("common"),bo=new d.Plugin({key:go,state:{init:function(){return{editorFocused:!1}},apply:function(e,n){return!1===e.getMeta("editor_focused")?{editorFocused:!1}:e.getMeta("editor_focused")?{editorFocused:!0}:n}},props:{handleScrollToSelection:function(){return!0},handleDOMEvents:{focus:function(e){var n=e.state;return(0,e.dispatch)(n.tr.setMeta("editor_focused",!0)),!1},blur:function(e){var n=e.state;return(0,e.dispatch)(n.tr.setMeta("editor_focused",!1)),!1}}}});function vo(e,n){var t=ko(e,e.schema.nodes.blockquote);if(!t)return!1;var r=Object(M.liftTarget)(t);return!!r&&(n&&n(e.tr.lift(t,r)),!0)}var ko=function(e,n){var t=e.selection,r=t.$from,o=t.$to;return r.blockRange(o,(function(e){return e.type==n}))};function wo(e,n){var t=e.schema.nodes.horizontal_rule;return n&&n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0}var yo=function(e){var n=e.nodes.hard_break;return Object(c.chainCommands)(c.exitCode,(function(e,t){return t(e.tr.replaceSelectionWith(n.create()).scrollIntoView()),!0}))},xo=function(e){return function(n){return ge(n.nodes.heading,{level:e},n.nodes.paragraph,null)}},_o=[{__type:"wysiwyg:keymap",name:"Mod-z",command:function(){return f.undo}},{__type:"wysiwyg:keymap",name:"Backspace",command:function(){return C.undoInputRule}},{__type:"wysiwyg:keymap",name:"Mod-Shift-z",command:function(){return f.redo}},{__type:"wysiwyg:keymap",name:"Mod-y",command:function(){return f.redo},unlessMac:!0},{__type:"wysiwyg:keymap",name:"Tab",command:function(){return Oo}},{__type:"wysiwyg:keymap",name:"Shift-Tab",command:function(){return Co}},{__type:"wysiwyg:keymap",name:"Mod-b",ifMark:"strong",command:function(e){return Object(c.toggleMark)(e.marks.strong)}},{__type:"wysiwyg:keymap",name:"Mod-i",ifMark:"em",command:function(e){return Object(c.toggleMark)(e.marks.em)}},{__type:"wysiwyg:keymap",name:"Mod-k",ifMark:"link",command:function(){return function(e,n){return Kt(e,n)}}},{__type:"wysiwyg:keymap",name:"Mod-Enter",command:yo,ifNode:"hard_break"},{__type:"wysiwyg:keymap",name:"Shift-Enter",command:yo,ifNode:"hard_break"},{__type:"wysiwyg:keymap",name:"Ctrl-Enter",command:yo,ifNode:"hard_break",ifMac:!0},{__type:"wysiwyg:keymap",name:"Mod-Alt-1",command:xo(1),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-2",command:xo(2),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-3",command:xo(3),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-4",command:xo(4),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-5",command:xo(5),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-6",command:xo(6),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Backspace",command:function(){return he},ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-7",command:function(){return gn},ifNode:"ordered_list"},{__type:"wysiwyg:keymap",name:"Mod-Alt-8",command:function(){return hn},ifNode:"bullet_list"},{__type:"wysiwyg:keymap",name:"Mod-Alt-9",command:function(e){return Object(p.liftListItem)(e.nodes.list_item)},onCondition:function(e){return!(!e.nodes.bullet_list&&!e.nodes.ordered_list)}},{__type:"wysiwyg:keymap",name:"Mod-Alt-0",command:function(e){return Object(c.setBlockType)(e.nodes.code_block)},ifNode:"code_block"},{__type:"wysiwyg:keymap",name:"ArrowLeft",command:function(){return Eo("left")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowRight",command:function(){return Eo("right")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowUp",command:function(){return Eo("up")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowDown",command:function(){return Eo("down")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"Mod-0",ifMark:"code",command:function(e){return Object(c.toggleMark)(e.marks.code)}},{__type:"wysiwyg:keymap",name:"Mod->",ifNode:"blockquote",command:function(e){return Object(c.wrapIn)(e.nodes.blockquote)}},{__type:"wysiwyg:keymap",name:"Mod-<",ifNode:"blockquote",command:function(){return vo}},{__type:"wysiwyg:keymap",name:"Mod-Alt-9",ifNode:"paragraph",command:function(e){return Object(c.setBlockType)(e.nodes.paragraph)}},{__type:"wysiwyg:keymap",name:"Shift-Ctrl-0",ifNode:"paragraph",command:function(e){return Object(c.setBlockType)(e.nodes.paragraph)}},{__type:"wysiwyg:keymap",name:"Mod-Enter",ifNode:"horizontal_rule",command:function(){return wo}},{__type:"wysiwyg:keymap",name:"Enter",ifNode:"list_item",command:function(e){return Object(p.splitListItem)(e.nodes.list_item)}},{__type:"wysiwyg:keymap",name:"Tab",ifNode:"list_item",command:function(e){return Object(p.sinkListItem)(e.nodes.list_item)}},{__type:"wysiwyg:keymap",name:"Shift-Tab",ifNode:"list_item",command:function(e){return Object(p.liftListItem)(e.nodes.list_item)}}];function Eo(e){return function(n,t,r){if(r.endOfTextblock(e)){var o="left"==e||"up"==e?-1:1,i=n.selection.$head,a=d.Selection.near(n.doc.resolve(o>0?i.after():i.before()),o);if(a.$head){var l=a.$head.parent.type.name;if("code_block"==l||"table_header"===l||"table_cell"===l)return t(n.tr.setSelection(a)),!0}}return!1}}var Oo=Mo(1),Co=Mo(-1);function Mo(e){return function(n,t){var r=n.schema.nodes.table;return!!Object(m.findParentNodeOfType)(r)(n.selection)&&(Object(g.goToNextCell)(1*e)(n,t),!0)}}var jo="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function So(e){var n,t,r,o=z({},c.baseKeymap);function i(e,n){o[e]&&(n=Object(c.chainCommands)(n,o[e])),o[e]=n}return i("Enter",Object(c.chainCommands)(c.createParagraphNear,c.liftEmptyBlock,c.splitBlock)),(n="wysiwyg:keymap",t=_o,t.filter((r=n,function(e){return e.__type===r}))).forEach((function(n){var t=!1;n.unlessMac&&jo&&(t=!0),n.ifMark&&!e.marks[n.ifMark]&&(t=!0),n.ifNode&&!e.nodes[n.ifNode]&&(t=!0),n.ifNodes&&!n.ifNodes.some((function(n){return e.nodes[n]}))&&(t=!0),n.onCondition&&!n.onCondition(e)&&(t=!0),t||i(n.name,n.command(e))})),o}var Io=function(e){return new RegExp(""+e+e+"([^\r\n\t\f"+e+"} ](.*[^\r\n\t\f"+e+" ])?)"+e+e)},zo=function(e){return new RegExp("(^|[^"+e+"])"+e+"([^\r\n\t\f"+e+" ](.*[^\r\n\t\f"+e+" ])?)"+e)},Ao=Io("\\*"),To=zo("\\*"),Po=Io("~"),Lo=zo("_"),No=zo("`");function Do(e){var n,t,r,o=[];return(n=e.nodes.blockquote)&&o.push((t=n,Object(C.wrappingInputRule)(/^\s*>\s$/,t))),(n=e.nodes.ordered_list)&&o.push(function(e){return Object(C.wrappingInputRule)(/^(\d+)\.\s$/,e,(function(e){return{order:+e[1]}}),(function(e,n){return n.childCount+n.attrs.order==+e[1]}))}(n)),(n=e.nodes.bullet_list)&&o.push(function(e){return Object(C.wrappingInputRule)(/^\s*([-+*])\s$/,e)}(n)),(n=e.nodes.code_block)&&o.push(function(e){return Object(C.textblockTypeInputRule)(/^```([a-zA-Z]*)? $/,e,(function(e){var n=e[1];return n?{params:n}:{}}))}(n)),(n=e.nodes.heading)&&o.push(function(e,n){return Object(C.textblockTypeInputRule)(new RegExp("^(#{1,"+n+"})\\s$"),e,(function(e){return{level:e[1].length}}))}(n,6)),(n=e.nodes.horizontal_rule)&&o.push(function(e){return new C.InputRule(/^(---|___|\*\*\*)$/,(function(n,t,r,o){return n.tr.replaceRangeWith(r,o,e.create())}))}(n)),(r=e.marks.strong)&&(o.push(Fo(Ao,r,{})),o.push(function(e){return Fo(Io("_"),e,{})}(r))),(r=e.marks.strike)&&o.push(function(e){return Fo(Po,e,{})}(r)),(r=e.marks.em)&&(o.push(function(e){return Bo(To,e,{})}(r)),o.push(function(e){return Bo(Lo,e,{})}(r))),(r=e.marks.code)&&o.push(function(e){return Bo(No,e,{})}(r)),o}function Fo(e,n,t){return new C.InputRule(e,(function(e,r,o,i){var a=t instanceof Function?t(r):t,l=e.tr;if(r[1]){var c=o+r[0].indexOf(r[1]),s=c+r[1].length;s<i&&l.delete(s,i),c>o&&l.delete(o,c),i=o+r[1].length}return l.addMark(o,i,n.create(a)),l.removeStoredMark(n),l}))}function Bo(e,n,t){var r=function(e,n){return function(t,r,o,i,a){var l=n instanceof Function?n(o):n,c=t.tr,s=o[1].length;if(o[2]){var u=i+1+s,d=u+o[2].length,f=[u-1,u],p=[d,d+(function(e,n){try{return e.doc.textBetween(n+1,n+2)}catch(t){return""}}(t,d)?0:1)];c.delete.apply(c,p),c.delete.apply(c,f),a=i+o[2].length+s}return c.addMark(i+s,a,e.create(l)),c.removeStoredMark(e),r&&r(c),c}}(n,t);return new C.InputRule(e,(function(e,n,t,o){return r(e,null,n,t,o)}))}function Ro(e){return Object(C.inputRules)({rules:Do(e)})}function Wo(e,n,t,r){var o,i,a,l=[bo,sn,Ro(e),Object(O.keymap)(So(e)),Object(f.history)(),Ht(),Object(_.dropCursor)({width:2,color:"rgb(0, 132, 255)"}),Object(E.gapCursor)(),Object(g.tableEditing)(),Tn,en];return r&&l.push((i=(o=r).previewSrc,a=o.upload,new d.Plugin({key:Rn,state:{init:function(){return{selectedImage:void 0}},apply:function(e,n,t,r){if(e.getMeta("loading_images")>0){for(var o=e.getMeta("loading_images"),i=document.createElement("div"),a=0;a<o;a++){var l=document.createElement("div");l.classList.add("image_loading_indicator"),i.appendChild(l)}return z({},n,{deco:h.DecorationSet.create(r.doc,[h.Decoration.widget(r.selection.$to.pos,i)])})}if(0===e.getMeta("loading_images"))return z({},n,{deco:void 0});if(n&&n.selectedImage){var c=n.selectedImage.pos;if(!e.doc.nodeAt(c))return z({},n,{selectedImage:void 0})}var s=e.getMeta("image_clicked");return s?z({},n,{selectedImage:s}):!1===s?z({},n,{selectedImage:void 0}):n}},props:{nodeViews:{image:function(e,n){return new Bn(e,n,i)}},decorations:function(e){return this.getState(e).deco},handleKeyDown:function(e,n){var t=e.state,r=e.dispatch,o=t.selection,i=t.schema;if("Escape"===n.key)r(t.tr.setMeta("image_clicked",!1));else{if("Backspace"===n.key&&o.$to.nodeBefore&&o.$to.nodeBefore.type===i.nodes.image)return Wn(t,r,o.$to.pos-1),!0;if("Delete"===n.key&&o.$to.nodeAfter&&o.$to.nodeAfter.type===i.nodes.image)return Wn(t,r,o.$to.pos),!0}return!1},handleClickOn:function(e,n,t,r,o,i){if(!i)return!1;var a=e.state,l=e.dispatch,c=e.state.schema.nodes.image;return t.type===c?l(a.tr.setMeta("image_clicked",{pos:r,node:t})):l(a.tr.setMeta("image_clicked",!1)),!1},handleDrop:function(e,n,t,r){if(r||!a)return!1;n.preventDefault();var o=n.dataTransfer;return!!o&&$n(e,o,a)},handlePaste:function(e,n){if(!a)return!1;n.preventDefault();var t=n.clipboardData;return!!t&&$n(e,t,a)}}}))),d.EditorState.create({schema:e,doc:n.nodeFromString(t),plugins:l})}var $o=function(e,n,t,r,o){var i=new x.Schema({nodes:Rr,marks:Br}),a=function(e,n){return void 0===n&&(n="markdown"),"html"===n?ho.fromSchema(e):fo.fromSchema(e)}(i,o);if(!n)return{};var l=new h.EditorView(n,{state:Wo(i,a,e.value,r),dispatchTransaction:function(n){var r=l.state.apply(n);l.updateState(r),t({view:l}),n.docChanged&&!n.getMeta("input-update")&&e.onChange(a.stringFromNode(n.doc))}}),c=l.state,s=l.dispatch,u=c.tr,f=c.doc;return s(u.setSelection(new d.TextSelection(f.resolve(f.content.size)||0))),l.focus(),t({view:l}),{translator:a}};function Vo(){var e=P(["\n  position: absolute;\n  top: 50%;\n  left: -8px;\n  transform: translate3d(-100%, -50%, 0);\n"]);return Vo=function(){return e},e}function qo(){var e=P(["\n  display: flex;\n  left: 50%;\n  position: absolute;\n  top: -8px;\n  transform: translate3d(-50%, -100%, 0);\n  button:not(:first-of-type) {\n    margin-left: 10px;\n  }\n"]);return qo=function(){return e},e}var Ho=function(e,n){var t=e.state,r=e.dispatch,o=t.selection,i=t.schema.nodes,a=i.table,l=i.table_cell,c=i.table_header,s=Object(m.findParentNodeOfType)(l)(t.selection),u=Object(m.findParentNodeOfType)(c)(t.selection),d=s||u;if(d){var f=d.node.attrs.align===n?void 0:n,p=Object(m.findParentNodeOfType)(a)(t.selection);if(p){var h=g.TableMap.get(p.node),b=Object.entries(h.map).find((function(e){return e[1]>o.head-p.start}));if(b){var v=(parseInt(b[0])-1)%h.width;r(Object(m.forEachCellInColumn)(v,(function(e,n){return Object(m.setCellAttrs)(e,{align:f})(n)}))(t.tr)),e.focus()}}}},Uo=function(){var e=Q().editorView;if(!e)return null;var n=e.view,t=n.state,o=n.dispatch;if(document.getElementsByClassName("tina_table_header_ext_top_left_selected")[0])return null;for(var i,l=document.getElementsByClassName("tina_table_header_ext_top_selected")[0],c=document.getElementsByClassName("tina_table_header_ext_left"),u=1;u<c.length;u++)c[u].classList.contains("tina_table_header_ext_left_selected")&&(i=c[u]);if(!l&&!i)return null;var d=e.view;return Object(r.createElement)(r.Fragment,null,l&&Object(s.createPortal)(Object(r.createElement)(Ko,null,Object(r.createElement)(b.IconButton,{onClick:function(){return Ho(d,"left")},small:!0,primary:!0},Object(r.createElement)(a.AlignLeft,null)),Object(r.createElement)(b.IconButton,{onClick:function(){return Ho(d,"center")},small:!0,primary:!0},Object(r.createElement)(a.AlignCenter,null)),Object(r.createElement)(b.IconButton,{onClick:function(){return Ho(d,"right")},small:!0,primary:!0},Object(r.createElement)(a.AlignRight,null)),Object(r.createElement)(b.IconButton,{onClick:function(){Object(g.deleteColumn)(t,o),d.focus()},small:!0,primary:!0},Object(r.createElement)(a.TrashIcon,null))),l),i&&Object(s.createPortal)(Object(r.createElement)(Go,null,Object(r.createElement)(b.IconButton,{onClick:function(){Object(g.deleteRow)(t,o),d.focus()},small:!0,primary:!0},Object(r.createElement)(a.TrashIcon,null))),i))},Ko=i.default.span(qo()),Go=i.default.span(Vo());function Xo(){var e=P(["\n  position: absolute;\n  background: #0574e4;\n  top: ","px;\n  z-index: 1000;\n  right: ","px;\n  width: ","px;\n  height: ",";\n"]);return Xo=function(){return e},e}function Zo(){var e=P(["\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n"]);return Zo=function(){return e},e}function Qo(){var e=P(["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"]);return Qo=function(){return e},e}function Yo(){var e=P(["\n  top: -7px;\n  position: absolute;\n  right: 0;\n  padding: 8px;\n  transform: translate3d(50%, -100%, 0);\n  user-select: none;\n"]);return Yo=function(){return e},e}var Jo=function(e){var n=e.index,t=e.marker,i=e.tableHeight,l=e.view,c=l.state,u=l.dispatch,d=Object(r.useState)(!1),f=d[0],p=d[1];return Object(r.useEffect)((function(){t.style.zIndex=f?"1000":"1"}),[f]),Object(s.createPortal)(o.a.createElement(o.a.Fragment,null,o.a.createElement(ei,{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},f?o.a.createElement(ti,null,o.a.createElement(b.IconButton,{onClick:function(){var e;e=n,u(Object(m.addColumnAt)(e)(c.tr)),l.focus(),p(!1)},small:!0,primary:!0},o.a.createElement(a.AddIcon,null))):o.a.createElement(ni,null)),f&&o.a.createElement(ri,{height:i})),t)},ei=i.default.div(Yo()),ni=i.default.div(Qo()),ti=i.default.span(Zo()),ri=i.default.div(Xo(),-1,-1,2,(function(e){return e.height+12-1+"px"}));function oi(){var e=P(["\n  position: absolute;\n  background: #0574e4;\n  left: ","px;\n  z-index: var(--tina-z-index-1);\n  bottom: ","px;\n  height: ","px;\n  width: ",";\n"]);return oi=function(){return e},e}function ii(){var e=P(["\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translate3d(-50%, -50%, 0);\n"]);return ii=function(){return e},e}function ai(){var e=P(["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"]);return ai=function(){return e},e}function li(){var e=P(["\n  left: -7px;\n  position: absolute;\n  bottom: 0;\n  padding: 8px;\n  transform: translate3d(-100%, 50%, 0);\n  user-select: none;\n"]);return li=function(){return e},e}var ci=function(e){var n=e.index,t=e.marker,i=e.tableWidth,l=e.view,c=l.state,u=l.dispatch,d=Object(r.useState)(!1),f=d[0],p=d[1];return Object(r.useEffect)((function(){t.style.zIndex=f?"1000":"1"}),[f]),Object(s.createPortal)(o.a.createElement(o.a.Fragment,null,o.a.createElement(si,{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},f&&n>0?o.a.createElement(di,null,o.a.createElement(b.IconButton,{onClick:function(){return function(e){if(e>1)u(Object(m.addRowAt)(e,!0)(c.tr));else{var n=c.schema.nodes,t=n.table,r=n.table_cell,o=n.table_row,i=Object(m.findParentNodeOfType)(t)(c.selection);if(!i)return;var a=g.TableMap.get(i.node),s=i.start+a.map[a.width]-1,d=Object(m.getCellsInRow)(0)(c.selection);if(!d)return;var f=null==d?void 0:d.map((function(e){return r.createAndFill(z({},e.node.attrs))}));u(c.tr.insert(s,o.create(null,f)))}l.focus()}(n)},small:!0,primary:!0},o.a.createElement(a.AddIcon,null))):o.a.createElement(ui,null)),f&&o.a.createElement(fi,{width:i})),t)},si=i.default.div(li()),ui=i.default.div(ai()),di=i.default.span(ii()),fi=i.default.div(oi(),-1,-1,2,(function(e){return e.width+12-1+"px"})),pi=function(){var e=Q().editorView;if(!e)return null;var n=document.getElementsByClassName("tina_table_header_ext_top_left");if(!n.length)return null;var t=n[0].closest("table");if(!t)return null;for(var r=t.getBoundingClientRect(),i=r.height,a=r.width,l=document.getElementsByClassName("tina_table_header_ext_top"),c=[n[0]],s=0;s<l.length;s++)c.push(l[s]);for(var u=document.getElementsByClassName("tina_table_header_ext_left"),d=[n[0]],f=0;f<u.length;f++)d.push(u[f]);var p=e.view;return o.a.createElement(o.a.Fragment,null,c.map((function(e,n){return o.a.createElement(Jo,{key:"add-column-menu-"+n,index:n,marker:e,tableHeight:i,view:p})})),d.map((function(e,n){return o.a.createElement(ci,{key:"add-row-menu-"+n,index:n,marker:e,tableWidth:a,view:p})})))};function mi(){var e=P(["\n  background-color: #ffffff;\n  border-radius: 2px;\n  cursor: default;\n  padding: 0px 4px;\n  position: absolute;\n  top: ",";\n  left: ",";\n"]);return mi=function(){return e},e}var hi=function(){var e=Q().editorView;if(!e)return null;var n=e.view,t=document.getElementsByClassName("tina_table_header_ext_top_left_selected");if(!t.length)return null;var r=t[0].closest("table");if(!r)return null;var i=r.getBoundingClientRect(),l=i.height,c=i.width;return u.a.createPortal(o.a.createElement(gi,{height:l,width:c},o.a.createElement(b.IconButton,{onClick:function(){var e=n.state,t=n.dispatch;Object(g.deleteTable)(e,t),n.focus()},small:!0,primary:!0},o.a.createElement(a.TrashIcon,null))),t[0])},gi=i.default.div(mi(),(function(e){return e.height+24+"px"}),(function(e){return e.width/2-8+"px"})),bi=function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Uo,null),Object(r.createElement)(pi,null),Object(r.createElement)(hi,null))},vi=function(e){var n=e.plugins,t=e.uploadImages,r=T(e,["plugins","uploadImages"]);return Q().editorView?o.a.createElement(_r,Object.assign({},r,{menus:[o.a.createElement(Se,null),o.a.createElement(un,null),o.a.createElement(Gt,null),o.a.createElement(rt,{uploadImages:t}),o.a.createElement(Nn,null),o.a.createElement(En,null),o.a.createElement(Ue,null),o.a.createElement(bn,null),o.a.createElement(nn,null)],popups:[o.a.createElement(bi,null),o.a.createElement(jt,null),o.a.createElement(pr,null),o.a.createElement(Rt,null)],plugins:n})):null};function ki(){var e=P(["\n  white-space: pre-wrap;\n\n  .CodeMirror {\n    font-family: monospace;\n    height: auto;\n    width: 100%;\n    border-radius: 5px;\n    margin-bottom: 16px;\n    color: black;\n    direction: ltr;\n  }\n\n  .CodeMirror-lines {\n    padding: 4px 0; /* Vertical padding around content */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    padding: 0 4px; /* Horizontal padding of content */\n  }\n\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    background-color: white; /* The little square between H and V scrollbars */\n  }\n\n  /* GUTTER */\n\n  .CodeMirror-gutters {\n    border-right: 1px solid #ddd;\n    background-color: #f7f7f7;\n    white-space: nowrap;\n  }\n  .CodeMirror-linenumbers {\n  }\n  .CodeMirror-linenumber {\n    padding: 0 3px 0 5px;\n    min-width: 20px;\n    text-align: right;\n    color: #999;\n    white-space: nowrap;\n  }\n\n  .CodeMirror-guttermarker {\n    color: black;\n  }\n  .CodeMirror-guttermarker-subtle {\n    color: #999;\n  }\n\n  /* CURSOR */\n\n  .CodeMirror-cursor {\n    border-left: 1px solid black;\n    border-right: none;\n    width: 0;\n  }\n  /* Shown when moving in bi-directional text */\n  .CodeMirror div.CodeMirror-secondarycursor {\n    border-left: 1px solid silver;\n  }\n  .cm-fat-cursor .CodeMirror-cursor {\n    width: auto;\n    border: 0 !important;\n    background: #7e7;\n  }\n  .cm-fat-cursor div.CodeMirror-cursors {\n    z-index: 1;\n  }\n  .cm-fat-cursor-mark {\n    background-color: rgba(20, 255, 20, 0.5);\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n  }\n  .cm-animate-fat-cursor {\n    width: auto;\n    border: 0;\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n    background-color: #7e7;\n  }\n  @-moz-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @-webkit-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n\n  /* Can style cursor different in overwrite (non-insert) mode */\n  .CodeMirror-overwrite .CodeMirror-cursor {\n  }\n\n  .cm-tab {\n    display: inline-block;\n    text-decoration: inherit;\n  }\n\n  .CodeMirror-rulers {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: -50px;\n    bottom: 0;\n    overflow: hidden;\n  }\n  .CodeMirror-ruler {\n    border-left: 1px solid #ccc;\n    top: 0;\n    bottom: 0;\n    position: absolute;\n  }\n\n  /* DEFAULT THEME */\n\n  .cm-s-default .cm-header {\n    color: blue;\n  }\n  .cm-s-default .cm-quote {\n    color: #090;\n  }\n  .cm-negative {\n    color: #d44;\n  }\n  .cm-positive {\n    color: #292;\n  }\n  .cm-header,\n  .cm-strong {\n    font-weight: bold;\n  }\n  .cm-em {\n    font-style: italic;\n  }\n  .cm-link {\n    text-decoration: underline;\n  }\n  .cm-strikethrough {\n    text-decoration: line-through;\n  }\n\n  .cm-s-default .cm-keyword {\n    color: #708;\n  }\n  .cm-s-default .cm-atom {\n    color: #219;\n  }\n  .cm-s-default .cm-number {\n    color: #164;\n  }\n  .cm-s-default .cm-def {\n    color: #00f;\n  }\n  .cm-s-default .cm-variable,\n  .cm-s-default .cm-punctuation,\n  .cm-s-default .cm-property,\n  .cm-s-default .cm-operator {\n  }\n  .cm-s-default .cm-variable-2 {\n    color: #05a;\n  }\n  .cm-s-default .cm-variable-3,\n  .cm-s-default .cm-type {\n    color: #085;\n  }\n  .cm-s-default .cm-comment {\n    color: #a50;\n  }\n  .cm-s-default .cm-string {\n    color: #a11;\n  }\n  .cm-s-default .cm-string-2 {\n    color: #f50;\n  }\n  .cm-s-default .cm-meta {\n    color: #555;\n  }\n  .cm-s-default .cm-qualifier {\n    color: #555;\n  }\n  .cm-s-default .cm-builtin {\n    color: #30a;\n  }\n  .cm-s-default .cm-bracket {\n    color: #997;\n  }\n  .cm-s-default .cm-tag {\n    color: #170;\n  }\n  .cm-s-default .cm-attribute {\n    color: #00c;\n  }\n  .cm-s-default .cm-hr {\n    color: #999;\n  }\n  .cm-s-default .cm-link {\n    color: #00c;\n  }\n\n  .cm-s-default .cm-error {\n    color: #f00;\n  }\n  .cm-invalidchar {\n    color: #f00;\n  }\n\n  .CodeMirror-composing {\n    border-bottom: 2px solid;\n  }\n\n  /* Default styles for common addons */\n\n  div.CodeMirror span.CodeMirror-matchingbracket {\n    color: #0b0;\n  }\n  div.CodeMirror span.CodeMirror-nonmatchingbracket {\n    color: #a22;\n  }\n  .CodeMirror-matchingtag {\n    background: rgba(255, 150, 0, 0.3);\n  }\n  .CodeMirror-activeline-background {\n    background: #e8f2ff;\n  }\n\n  /* STOP */\n\n  /* The rest of this file contains styles related to the mechanics of\n    the editor. You probably shouldn't touch them. */\n\n  .CodeMirror {\n    position: relative;\n    overflow: hidden;\n    background: white;\n  }\n\n  .CodeMirror-scroll {\n    overflow: scroll !important; /* Things will break if this is overridden */\n    /* 30px is the magic margin used to hide the element's real scrollbars */\n    /* See overflow: hidden in .CodeMirror */\n    margin-bottom: -30px;\n    margin-right: -30px;\n    padding-bottom: 30px;\n    height: 100%;\n    outline: none; /* Prevent dragging from highlighting the element */\n    position: relative;\n  }\n  .CodeMirror-sizer {\n    position: relative;\n    min-height: auto;\n    border-right: 30px solid transparent;\n  }\n\n  /* The fake, visible scrollbars. Used to force redraw during scrolling\n    before actual scrolling happens, thus preventing shaking and\n    flickering artifacts. */\n  .CodeMirror-vscrollbar,\n  .CodeMirror-hscrollbar,\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    position: absolute;\n    z-index: 6;\n    display: none;\n  }\n  .CodeMirror-vscrollbar {\n    right: 0;\n    top: 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n  .CodeMirror-hscrollbar {\n    bottom: 0;\n    left: 0;\n    overflow-y: hidden;\n    overflow-x: scroll;\n  }\n  .CodeMirror-scrollbar-filler {\n    right: 0;\n    bottom: 0;\n  }\n  .CodeMirror-gutter-filler {\n    left: 0;\n    bottom: 0;\n  }\n\n  .CodeMirror-gutters {\n    position: absolute;\n    left: 0;\n    top: 0;\n    min-height: 100%;\n    z-index: 3;\n  }\n  .CodeMirror-gutter {\n    white-space: normal;\n    height: 100%;\n    display: inline-block;\n    vertical-align: top;\n    margin-bottom: -30px;\n  }\n  .CodeMirror-gutter-wrapper {\n    position: absolute;\n    z-index: 4;\n    background: none !important;\n    border: none !important;\n  }\n  .CodeMirror-gutter-background {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-elt {\n    position: absolute;\n    cursor: default;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-wrapper ::selection {\n    background-color: transparent;\n  }\n  .CodeMirror-gutter-wrapper ::-moz-selection {\n    background-color: transparent;\n  }\n\n  .CodeMirror-lines {\n    cursor: text;\n    min-height: 1px; /* prevents collapsing before first draw */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    /* Reset some styles that the rest of the page might have set */\n    -moz-border-radius: 0;\n    -webkit-border-radius: 0;\n    border-radius: 0;\n    border-width: 0;\n    background: transparent;\n    font-family: inherit;\n    font-size: inherit;\n    margin: 0;\n    white-space: pre;\n    word-wrap: normal;\n    line-height: inherit;\n    color: inherit;\n    z-index: 2;\n    position: relative;\n    overflow: visible;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-font-variant-ligatures: contextual;\n    font-variant-ligatures: contextual;\n  }\n  .CodeMirror-wrap pre.CodeMirror-line,\n  .CodeMirror-wrap pre.CodeMirror-line-like {\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    word-break: normal;\n  }\n\n  .CodeMirror-linebackground {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 0;\n  }\n\n  .CodeMirror-linewidget {\n    position: relative;\n    z-index: 2;\n    padding: 0.1px; /* Force widget margins to stay inside of the container */\n  }\n\n  .CodeMirror-widget {\n  }\n\n  .CodeMirror-rtl pre {\n    direction: rtl;\n  }\n\n  .CodeMirror-code {\n    outline: none;\n  }\n\n  /* Force content-box sizing for the elements where we expect it */\n  .CodeMirror-scroll,\n  .CodeMirror-sizer,\n  .CodeMirror-gutter,\n  .CodeMirror-gutters,\n  .CodeMirror-linenumber {\n    -moz-box-sizing: content-box;\n    box-sizing: content-box;\n  }\n\n  .CodeMirror-measure {\n    position: absolute;\n    width: 100%;\n    height: 0;\n    overflow: hidden;\n    visibility: hidden;\n  }\n\n  .CodeMirror-cursor {\n    position: absolute;\n    pointer-events: none;\n  }\n  .CodeMirror-measure pre {\n    position: static;\n  }\n\n  div.CodeMirror-cursors {\n    visibility: hidden;\n    position: relative;\n    z-index: 3;\n  }\n  div.CodeMirror-dragcursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-focused div.CodeMirror-cursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-selected {\n    background: #d9d9d9;\n  }\n  .CodeMirror-focused .CodeMirror-selected {\n    background: #d7d4f0;\n  }\n  .CodeMirror-crosshair {\n    cursor: crosshair;\n  }\n  .CodeMirror-line::selection,\n  .CodeMirror-line > span::selection,\n  .CodeMirror-line > span > span::selection {\n    background: #d7d4f0;\n  }\n  .CodeMirror-line::-moz-selection,\n  .CodeMirror-line > span::-moz-selection,\n  .CodeMirror-line > span > span::-moz-selection {\n    background: #d7d4f0;\n  }\n\n  .cm-searching {\n    background-color: #ffa;\n    background-color: rgba(255, 255, 0, 0.4);\n  }\n\n  /* Used to force a border model for a node */\n  .cm-force-border {\n    padding-right: 0.1px;\n  }\n\n  @media print {\n    /* Hide the cursor when printing */\n    .CodeMirror div.CodeMirror-cursors {\n      visibility: hidden;\n    }\n  }\n\n  /* See issue #2901 */\n  .cm-tab-wrap-hack:after {\n    content: '';\n  }\n\n  /* Help users use markselection to safely style text background */\n  span.CodeMirror-selectedtext {\n    background: none;\n  }\n"]);return ki=function(){return e},e}var wi=Object(i.css)(ki());function yi(){var e=P(["\n  .ProseMirror .tinacms-image-wrapper {\n    display: inline-block;\n    margin: 1em 0;\n  }\n\n  ","\n"]);return yi=function(){return e},e}var xi=Object(i.css)(yi(),"\n  .ProseMirror {\n    display: block\n  }\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n  }\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: '';\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(0, 132, 255, 0.25);\n    /* This provides a bullet-proof border for selected cells even with border collapsing */\n    box-shadow: 0 0 0 1px #0574E4;\n    pointer-events: none;\n  }\n  .ProseMirror:focus {\n    outline: 0px solid transparent;\n  }\n  .ProseMirror p {\n    min-height: 18px;\n  }\n  .ProseMirror table {\n    border-collapse: collapse;\n    table-layout: fixed;\n    display: inline-table;\n    margin: 32px 0 32px 0;\n    overflow: visible;\n    width: 100%;\n  }\n  .ProseMirror th {\n    background-color: #F6F6F9;\n  }\n  .ProseMirror tr {\n    height: 40px;\n  }\n  .ProseMirror table td,\n  .ProseMirror table th {\n    border: 1px solid #E1DDEC;\n    padding: 6px 8px;\n    position: relative;\n    vertical-align: top;\n    box-sizing: border-box;\n  }\n  .ProseMirror .tina_table_header_ext_top {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: 12px;\n    width: calc(100% + 2px);\n    transform: translate(-9px, -18px);\n    cursor: pointer;\n    z-index: 1;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_top_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .tina_table_header_ext_left {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: calc(100% + 2px);\n    width: 12px;\n    transform: translate(-20px, -7px);\n    cursor: pointer;\n    z-index: 1;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_left_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .tina_table_header_ext_top_left {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: 12px;\n    width: 12px;\n    transform: translate(-20px, -18px);\n    border-radius: 5px 0 0 0;\n    z-index: 1;\n    cursor: pointer;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_top_left_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .selectedCell {\n    border-color: transparent;\n  }\n");function _i(){var e=P(["\n  position: relative;\n"]);return _i=function(){return e},e}function Ei(){var e=P(["\n  ","","\n"]);return Ei=function(){return e},e}var Oi=Object(i.default)((function(e){var n=e.input,t=e.plugins,o=e.sticky,i=e.format,a=e.imageProps,l=T(e,["input","plugins","sticky","format","imageProps"]),c=Object(r.useRef)(null),s=Object(r.useState)(),u=s[0],f=s[1],p=Object(r.useState)(),m=p[0],h=p[1],g=D().browserFocused;return Object(r.useEffect)((function(){var e=$o(n,c.current,f,a,i).translator;return h(e),function(){u&&u.view.destroy()}}),[c]),Object(r.useEffect)((function(){var e=u&&u.view,t=document.getElementsByClassName("ProseMirror")[0];!e||(t===document.activeElement||t.contains(document.activeElement))&&g||function(e,n,t){var r=n.nodeFromString(t);if(r){var o=e.state,i=e.dispatch,a=o.tr;i(a.setSelection(new d.TextSelection(a.doc.resolve(0),a.doc.resolve(o.doc.nodeSize-2))).replaceSelectionWith(r).setMeta("input-update",!0))}}(e,m,n.value)}),[n.value]),Object(r.createElement)(Ci,{className:"wysiwyg-wrapper","data-testid":"wysiwyg-editor"},Object(r.createElement)("link",{rel:"stylesheet",href:"https://codemirror.net/lib/codemirror.css"}),Object(r.createElement)(Z,{translator:m,editorView:u},Object(r.createElement)(vi,{sticky:o,uploadImages:a&&a.upload,plugins:t})),Object(r.createElement)("div",Object.assign({},l,{ref:c})))}))(Ei(),wi,xi),Ci=i.default.div(_i());function Mi(){var e=P(["\n  display: block;\n  min-height: 100px;\n"]);return Mi=function(){return e},e}var ji={name:"wysiwygModeToggle",MenuItem:function(){return Object(r.createElement)(G,null)}},Si=function(e){var n=e.imageProps,t=e.input,o=e.plugins,i=void 0===o?[]:o,a=e.format,l=void 0===a?"markdown":a,c=e.sticky,s=e.className,u=t.value,d=t.onChange,f="markdown"===l?[].concat(i,[ji]):i;return Object(r.createElement)(H,null,Object(r.createElement)(U,null,(function(e){var t=e.mode;return Object(r.createElement)(N,null,Object(r.createElement)(Ii,null,"markdown"===t?Object(r.createElement)(Cr,{value:u,onChange:d,imageProps:n,plugins:f,sticky:c}):Object(r.createElement)(Oi,{input:{value:u,onChange:d},plugins:f,sticky:c,format:l,imageProps:n,className:s})))})))},Ii=i.default.div(Mi());function zi(){var e=P(["\n    position: relative;\n\n    > [contenteditable] {\n      ","\n      overflow: auto;\n      -webkit-overflow-scrolling: touch;\n      min-height: 200px;\n      max-height: 500px;\n      overflow-y: auto;\n      display: block;\n\n      ::selection {\n        background-color: rgba(0, 132, 255, 0.3);\n      }\n\n      div::selection {\n        background: rgba(0, 0, 0, 0);\n      }\n\n      div[contenteditable] {\n        display: inline-block;\n      }\n\n      > *:first-child {\n        margin-top: 0;\n      }\n\n      > *:last-child {\n        margin-bottom: 0;\n      }\n    }\n\n    color: ",";\n    background-color: #fff;\n    font-size: 16px;\n    line-height: 26px;\n    white-space: pre-wrap;\n    -webkit-font-smoothing: antialiased;\n    text-shadow: none;\n    font-weight: 400;\n    cursor: auto;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    border-radius: var(--tina-radius-small);\n\n    p {\n      font-size: 16px;\n      line-height: 26px;\n      font-weight: normal;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      font-weight: 600;\n      text-transform: none;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    h1 {\n      font-size: 40px;\n      line-height: 48px;\n      margin-top: 0;\n      &:not(:first-child) {\n        margin-top: 32px;\n      }\n    }\n\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      &:not(:first-child) {\n        margin-top: 21px;\n      }\n    }\n\n    h2 {\n      font-size: 34px;\n      line-height: 38px;\n      margin-top: 0;\n    }\n\n    h3 {\n      font-size: 26px;\n      line-height: 30px;\n      margin-top: 0;\n    }\n\n    h4 {\n      font-size: 21px;\n      line-height: 28px;\n      margin-top: 0;\n    }\n\n    h5 {\n      font-size: 18px;\n      line-height: 24px;\n      margin-top: 0;\n    }\n\n    h6 {\n      font-size: 16px;\n      line-height: 20px;\n      margin-top: 0;\n    }\n\n    a {\n      color: #0084ff;\n      border: 0;\n      font-weight: normal;\n      text-decoration: underline;\n    }\n\n    small {\n      font-size: 0.707em;\n    }\n\n    ul,\n    ol {\n      margin: 0;\n      padding: 0;\n    }\n\n    ol li {\n      /* prevent 2-digits numbers from being cut-off */\n      margin-left: 5px;\n      margin-right: 5px;\n    }\n\n    ul {\n      margin-left: 1.5em;\n      margin-bottom: 16px;\n      list-style-type: disc;\n      list-style-position: outside;\n      list-style-image: none;\n    }\n\n    ol {\n      margin-left: 1.25em;\n      margin-bottom: 16px;\n      list-style-type: decimal;\n    }\n\n    li {\n      list-style: inherit;\n      ol,\n      ul {\n        margin-bottom: 0;\n      }\n    }\n\n    code {\n      font-family: 'Roboto Mono', monospace;\n      font-size: 14px;\n      background: rgba(53, 50, 50, 0.08);\n      padding: 0.1em 0.25em;\n    }\n\n    pre {\n      padding: 0;\n      margin: 0;\n    }\n\n    pre > code {\n      display: block;\n      padding: 0.15em 0.6em;\n    }\n\n    img {\n      max-width: 100%;\n      border: 0;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    hr {\n      display: block;\n      height: 1px;\n      width: 100%;\n      border: 0;\n      background: ",";\n      margin: 16px 0;\n    }\n\n    blockquote {\n      margin: 0 0 16px 0;\n      border-left: 2px solid ",";\n      padding-left: 15px;\n    }\n\n    mark {\n      color: ",";\n      background-color: #ffe9a8;\n      padding: 0.1em 0.25em;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      position: relative;\n      &:before {\n        font-size: 14px;\n        text-align: left;\n        font-weight: var(--tina-font-weight-regular);\n        color: ",";\n        position: absolute;\n        left: -35px;\n        width: 30px;\n        cursor: pointer;\n        transition: color 0.25s ease;\n      }\n      &:hover:before {\n        color: ",";\n      }\n    }\n\n    blockquote {\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        &:before {\n          display: none;\n        }\n      }\n    }\n  "]);return zi=function(){return e},e}function Ai(e){return Object(v.wrapFieldsWithMeta)(Object(i.default)(e)(zi(),v.InputCss,"rgb(40, 40, 40)","rgb(200, 200, 200)","rgb(200, 200, 200)","rgb(40, 40, 40)","rgb(200, 200, 200)","rgb(40, 40, 40)"))}var Ti={__type:"field",name:"html",Component:Ai((function(e){return o.a.createElement(Si,Object.assign({},e,{sticky:!1,format:"html"}))})),parse:function(e){return e||""}},Pi={__type:"field",name:"markdown",Component:Ai((function(e){return o.a.createElement(Si,Object.assign({},e,{sticky:!1,format:"markdown"}))})),parse:function(e){return e||""}};function Li(e){var n=e.name,t=e.children,o=e.focusRing,i=void 0===o||o,a=e.imageProps,l=T(e,["name","children","focusRing","imageProps"]),c=Object(j.useCMS)(),s=Object(r.useMemo)((function(){if(a)return z({upload:function(e){try{var n=e.map((function(e){return{directory:(null==a?void 0:a.directory)||"",file:e}}));return Promise.resolve(c.media.store.persist(n)).then((function(e){return e.map((function(e){return a.parse?a.parse(e.filename):e.filename}))}))}catch(t){return Promise.reject(t)}},previewSrc:function(e){return c.media.store.previewSrc(e)}},a)}),[c.media.store,null==a?void 0:a.directory,null==a?void 0:a.previewSrc,null==a?void 0:a.upload]);return c.disabled?t:Object(r.createElement)(S.InlineField,{name:n},(function(e){var t=e.input;return Object(r.createElement)(S.FocusRing,{name:n,options:i},Object(r.createElement)(Si,Object.assign({input:t},l,{imageProps:s})))}))}}.call(this,t("yLpj"))}}]);
//# sourceMappingURL=ac4e1520-8fcf98bb9d287c01cd73.js.map